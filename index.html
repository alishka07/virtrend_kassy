<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FloodHelp ‚Äî –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è–º</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root {
            --color-primary: #2196F3;
            --color-primary-dark: #1976D2;
            --color-success: #4CAF50;
            --color-warning: #FF9800;
            --color-danger: #F44336;
            --color-info: #00BCD4;
            --color-bg: #f5f5f5;
            --color-card: #ffffff;
            --color-text: #333;
            --color-text-light: #666;
            --color-border: #ddd;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
        }

        .header {
            background: var(--color-primary);
            color: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .header p {
            font-size: 0.9rem;
            opacity: 0.95;
            margin-top: 0.25rem;
        }

        .nav-tabs {
            background: white;
            border-bottom: 2px solid var(--color-border);
            display: flex;
            padding: 0 1rem;
            position: sticky;
            top: 80px;
            z-index: 999;
        }

        .nav-tab {
            padding: 1rem 1.5rem;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1rem;
            color: var(--color-text-light);
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .nav-tab:hover {
            color: var(--color-primary);
        }

        .nav-tab.active {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
            font-weight: 600;
        }

        .content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background: var(--color-card);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .card h2 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            color: var(--color-primary);
        }

        .card h3 {
            font-size: 1.1rem;
            margin: 1rem 0 0.5rem 0;
            color: var(--color-text);
        }

        #map {
            height: 600px;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .form-group {
            margin-bottom: 1.25rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--color-text);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--color-primary);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            padding: 0.875rem 1.75rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-block;
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--color-primary-dark);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-success {
            background: var(--color-success);
            color: white;
        }

        .btn-danger {
            background: var(--color-danger);
            color: white;
        }

        .request-list {
            display: grid;
            gap: 1rem;
        }

        .request-item {
            background: white;
            border: 2px solid var(--color-border);
            border-radius: 10px;
            padding: 1.25rem;
            transition: all 0.3s;
        }

        .request-item:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .request-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .request-type {
            padding: 0.375rem 0.875rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            display: inline-block;
        }

        .type-water { background: #E3F2FD; color: #1976D2; }
        .type-food { background: #FFF3E0; color: #E65100; }
        .type-medical { background: #F3E5F5; color: #7B1FA2; }
        .type-evacuation { background: #FFEBEE; color: #C62828; }
        .type-shelter { background: #E8F5E9; color: #2E7D32; }

        .status-badge {
            padding: 0.375rem 0.875rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .status-pending { background: #FFF3E0; color: #F57C00; }
        .status-in-progress { background: #E3F2FD; color: #1976D2; }
        .status-completed { background: #E8F5E9; color: #388E3C; }

        .lesson-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .lesson-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .lesson-card h3 {
            color: white;
            margin-bottom: 0.5rem;
        }

        .lesson-card p {
            opacity: 0.95;
            line-height: 1.6;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--color-text-light);
            font-size: 0.9rem;
        }

        .alert {
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-weight: 500;
        }

        .alert-warning {
            background: #FFF3E0;
            color: #E65100;
            border-left: 4px solid #FF9800;
        }

        .alert-info {
            background: #E3F2FD;
            color: #1565C0;
            border-left: 4px solid #2196F3;
        }

        .alert-success {
            background: #E8F5E9;
            color: #2E7D32;
            border-left: 4px solid #4CAF50;
        }

        .checklist {
            list-style: none;
            padding: 0;
        }

        .checklist li {
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            background: #f9f9f9;
            border-radius: 6px;
            border-left: 3px solid var(--color-success);
        }

        .checklist li:before {
            content: "‚úì ";
            color: var(--color-success);
            font-weight: bold;
            margin-right: 0.5rem;
        }

        @media (max-width: 768px) {
            .content {
                padding: 1rem;
            }

            .nav-tabs {
                overflow-x: auto;
            }

            .nav-tab {
                padding: 0.875rem 1rem;
                font-size: 0.9rem;
            }

            #map {
                height: 400px;
            }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-header h3 {
            margin: 0;
            color: var(--color-primary);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--color-text-light);
        }

        .success-message {
            display: none;
            padding: 1rem;
            background: var(--color-success);
            color: white;
            border-radius: 8px;
            margin-bottom: 1rem;
            text-align: center;
            font-weight: 600;
        }

        .success-message.active {
            display: block;
        }

        .chat-container {
            border: 2px solid var(--color-border);
            border-radius: 12px;
            overflow: hidden;
        }

        .chat-messages {
            height: 400px;
            overflow-y: auto;
            padding: 1rem;
            background: #f9f9f9;
        }

        .chat-message {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1rem;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-message.user {
            flex-direction: row-reverse;
        }

        .chat-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .chat-bubble {
            background: white;
            padding: 0.875rem 1.125rem;
            border-radius: 12px;
            max-width: 70%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            line-height: 1.5;
        }

        .chat-message.user .chat-bubble {
            background: var(--color-primary);
            color: white;
        }

        .chat-typing {
            display: none;
            padding: 0.5rem 1rem;
            background: #E3F2FD;
            color: var(--color-primary);
            font-style: italic;
            font-size: 0.9rem;
        }

        .chat-typing.active {
            display: block;
        }

        .chat-input-container {
            display: flex;
            gap: 0.5rem;
            padding: 1rem;
            background: white;
            border-top: 2px solid var(--color-border);
        }

        .chat-input-container input {
            flex: 1;
            padding: 0.75rem;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            font-size: 1rem;
        }

        .chat-input-container button {
            padding: 0.75rem 1.5rem;
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .chat-input-container button:hover {
            background: var(--color-primary-dark);
        }

        .flood-simulation {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .simulation-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .water-level-slider {
            flex: 1;
            min-width: 200px;
        }

        .water-level-slider input[type="range"] {
            width: 100%;
        }

        .level-indicator {
            padding: 0.5rem 1rem;
            background: var(--color-info);
            color: white;
            border-radius: 8px;
            font-weight: 600;
        }

        .danger-zone {
            background: rgba(244, 67, 54, 0.15);
            border: 2px solid var(--color-danger);
            border-radius: 10px;
            padding: 1rem;
            margin: 0.5rem 0;
        }

        .danger-zone h4 {
            color: var(--color-danger);
            margin: 0 0 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .safe-zone {
            background: rgba(76, 175, 80, 0.15);
            border: 2px solid var(--color-success);
            border-radius: 10px;
            padding: 1rem;
            margin: 0.5rem 0;
        }

        .safe-zone h4 {
            color: var(--color-success);
            margin: 0 0 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .disease-warning {
            background: #FFF3E0;
            border-left: 4px solid #FF9800;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .disease-warning h4 {
            color: #E65100;
            margin: 0 0 0.5rem 0;
        }

        .disease-list {
            display: grid;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .disease-item {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            border-left: 3px solid #FF9800;
        }

        .disease-item strong {
            color: #E65100;
        }

        .volunteer-group {
            background: white;
            border: 2px solid var(--color-border);
            border-radius: 10px;
            padding: 1.25rem;
            margin-bottom: 1rem;
            transition: all 0.3s;
        }

        .volunteer-group:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .group-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .group-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--color-primary);
        }

        .group-badge {
            padding: 0.375rem 0.875rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            background: #E8F5E9;
            color: #2E7D32;
        }

        .group-info {
            display: grid;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .group-info p {
            margin: 0;
            color: var(--color-text);
        }

        .group-chat-btn {
            background: var(--color-success);
            color: white;
            padding: 0.625rem 1.25rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .group-chat-btn:hover {
            background: #388E3C;
            transform: translateY(-1px);
        }

        .chat-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .chat-modal.active {
            display: flex;
        }

        .chat-modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            height: 80vh;
            display: flex;
            flex-direction: column;
        }

        .chat-modal-header {
            padding: 1.25rem;
            border-bottom: 2px solid var(--color-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-modal-header h3 {
            margin: 0;
            color: var(--color-primary);
        }

        .chat-modal-body {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .chat-sidebar {
            width: 250px;
            border-right: 2px solid var(--color-border);
            padding: 1rem;
            overflow-y: auto;
            background: #f9f9f9;
        }

        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .volunteer-member {
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            background: white;
            border-radius: 8px;
            border-left: 3px solid var(--color-success);
            cursor: pointer;
            transition: all 0.3s;
        }

        .volunteer-member:hover {
            background: var(--color-primary);
            color: white;
        }

        .volunteer-member strong {
            display: block;
            margin-bottom: 0.25rem;
        }

        .online-badge {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .map-overlay {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .map-overlay h4 {
            margin: 0 0 0.5rem 0;
            color: var(--color-primary);
        }

        .respond-btn {
            background: var(--color-success);
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 0.5rem;
            width: 100%;
        }

        .request-item {
            cursor: pointer;
        }

        .request-detail-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .request-detail-modal.active {
            display: flex;
        }

        .request-detail-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--color-border);
        }

        .detail-section {
            margin-bottom: 1.5rem;
        }

        .detail-section h4 {
            color: var(--color-primary);
            margin-bottom: 0.75rem;
        }

        .detail-info {
            display: grid;
            gap: 0.75rem;
        }

        .detail-row {
            display: flex;
            padding: 0.75rem;
            background: #f9f9f9;
            border-radius: 8px;
        }

        .detail-label {
            font-weight: 600;
            min-width: 120px;
            color: var(--color-text-light);
        }

        .detail-value {
            color: var(--color-text);
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .action-buttons button {
            flex: 1;
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Epitrend</h1>
        <p>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –ø–æ–º–æ—â–∏ –∏ –ø–æ–≤—ã—à–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –°–ö–û</p>
    </header>

    <nav class="nav-tabs">
        <button class="nav-tab active" onclick="switchTab('map')">üó∫Ô∏è –ö–∞—Ä—Ç–∞ –ø–æ–º–æ—â–∏</button>
        <button class="nav-tab" onclick="switchTab('request')">üìù –ó–∞–ø—Ä–æ—Å –ø–æ–º–æ—â–∏</button>
        <button class="nav-tab" onclick="switchTab('volunteers')">üë• –í–æ–ª–æ–Ω—Ç—ë—Ä—ã</button>
        <button class="nav-tab" onclick="switchTab('education')">üìö –û–±—É—á–µ–Ω–∏–µ</button>
        <button class="nav-tab" onclick="switchTab('stats')">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
    </nav>

    <div class="content">
        <!-- –ö–∞—Ä—Ç–∞ –ø–æ–º–æ—â–∏ -->
        <div id="tab-map" class="tab-content active">
            <div class="card flood-simulation">
                <h2>–°–∏–º—É–ª—è—Ü–∏—è —É—Ä–æ–≤–Ω—è –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –∑–∞—Ç–æ–ø–ª–µ–Ω–∏–µ</h2>
                <div class="simulation-controls">
                    <div class="water-level-slider">
                        <label for="water-level">–£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã –≤ —Ä–µ–∫–µ –ò—à–∏–º:</label>
                        <input type="range" id="water-level" min="0" max="100" value="30" oninput="updateFloodSimulation(this.value)">
                    </div>
                    <div class="level-indicator" id="level-indicator">
                        –£—Ä–æ–≤–µ–Ω—å: 30% (–£–º–µ—Ä–µ–Ω–Ω—ã–π)
                    </div>
                </div>
                
                <div id="flood-zones">
                    <div class="safe-zone">
                        <h4>‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ä–∞–π–æ–Ω—ã</h4>
                        <p id="safe-areas">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω, –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω "–í–æ—Å—Ç–æ–∫", –ø—Ä. –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ (–≤–æ–∑–≤—ã—à–µ–Ω–Ω–æ—Å—Ç—å)</p>
                    </div>
                    <div class="danger-zone" style="display: none;" id="danger-alert">
                        <h4>‚ö†Ô∏è –û–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —ç–≤–∞–∫—É–∞—Ü–∏—è!</h4>
                        <p id="danger-areas"></p>
                    </div>
                </div>

                <div class="disease-warning" id="disease-warning" style="display: none;">
                    <h4>ü¶† –≠–ø–∏–¥–µ–º–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —É–≥—Ä–æ–∑–∞</h4>
                    <p>–ü—Ä–∏ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ –∑–∞—Ç–æ–ø–ª–µ–Ω–∏—è –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç —Ä–∏—Å–∫ –∏–Ω—Ñ–µ–∫—Ü–∏–æ–Ω–Ω—ã—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π</p>
                    <div class="disease-list" id="disease-list"></div>
                </div>
            </div>

            <div class="alert alert-info">
                <strong>üí° –°–æ–≤–µ—Ç:</strong> –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–µ—Ç–∞–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–º–æ—â–∏. –ö—Ä–∞—Å–Ω—ã–µ –∑–æ–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ–ø–∞—Å–Ω—ã–µ —Ä–∞–π–æ–Ω—ã.
            </div>

            <div id="map"></div>

            <div class="card">
                <h2>–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –ø–æ —Ä–∞–π–æ–Ω–∞–º</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="total-water">0</div>
                        <div class="stat-label">üíß –í–æ–¥–∞ (–∑–∞–ø—Ä–æ—Å–æ–≤)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-food">0</div>
                        <div class="stat-label">üçû –ï–¥–∞ (–∑–∞–ø—Ä–æ—Å–æ–≤)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-medical">0</div>
                        <div class="stat-label">üíä –ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã (–∑–∞–ø—Ä–æ—Å–æ–≤)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-evacuation">0</div>
                        <div class="stat-label">üö® –≠–≤–∞–∫—É–∞—Ü–∏—è (–∑–∞–ø—Ä–æ—Å–æ–≤)</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–º–æ—â–∏</h2>
                <div style="display: flex; gap: 1rem; margin-bottom: 1rem; flex-wrap: wrap;">
                    <select id="status-filter" style="padding: 0.5rem; border: 2px solid var(--color-border); border-radius: 8px;">
                        <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                        <option value="pending">–û–∂–∏–¥–∞–µ—Ç</option>
                        <option value="in-progress">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
                        <option value="completed">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</option>
                    </select>
                    <select id="type-filter" style="padding: 0.5rem; border: 2px solid var(--color-border); border-radius: 8px;">
                        <option value="all">–í—Å–µ —Ç–∏–ø—ã</option>
                        <option value="water">üíß –í–æ–¥–∞</option>
                        <option value="food">üçû –ï–¥–∞</option>
                        <option value="medical">üíä –ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã</option>
                        <option value="evacuation">üö® –≠–≤–∞–∫—É–∞—Ü–∏—è</option>
                        <option value="shelter">üè† –ñ–∏–ª—å—ë</option>
                    </select>
                    <button onclick="applyFilters()" class="btn-primary" style="padding: 0.5rem 1rem;">üîç –ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                </div>
                <div class="request-list" id="request-list">
                    <!-- –ó–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>

        <!-- –ó–∞–ø—Ä–æ—Å –ø–æ–º–æ—â–∏ -->
        <div id="tab-request" class="tab-content">
            <div class="card">
                <h2>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–º–æ—â—å</h2>
                <div class="success-message" id="success-message">
                    ‚úì –ó–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –í–æ–ª–æ–Ω—Ç—ë—Ä—ã –∏ —Å–ª—É–∂–±—ã –ø–æ–ª—É—á–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
                </div>
                <form id="help-form">
                    <div class="form-group">
                        <label for="request-type">–¢–∏–ø –ø–æ–º–æ—â–∏ *</label>
                        <select id="request-type" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–æ–º–æ—â–∏</option>
                            <option value="water">üíß –í–æ–¥–∞</option>
                            <option value="food">üçû –ï–¥–∞</option>
                            <option value="medical">üíä –ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã</option>
                            <option value="evacuation">üö® –≠–≤–∞–∫—É–∞—Ü–∏—è</option>
                            <option value="shelter">üè† –í—Ä–µ–º–µ–Ω–Ω–æ–µ –∂–∏–ª—å—ë</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="request-name">–í–∞—à–µ –∏–º—è *</label>
                        <input type="text" id="request-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" required>
                    </div>

                    <div class="form-group">
                        <label for="request-phone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                        <input type="tel" id="request-phone" placeholder="+7 (___) ___-__-__" required>
                    </div>

                    <div class="form-group">
                        <label for="request-address">–ê–¥—Ä–µ—Å *</label>
                        <input type="text" id="request-address" placeholder="–£–ª–∏—Ü–∞, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä–∞" required>
                    </div>

                    <div class="form-group">
                        <label for="request-details">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</label>
                        <textarea id="request-details" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ–¥—Ä–æ–±–Ω–µ–µ..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="request-people">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π</label>
                        <input type="number" id="request-people" min="1" value="1">
                    </div>

                    <div class="form-group">
                        <label for="request-photo">–§–æ—Ç–æ —Å–∏—Ç—É–∞—Ü–∏–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –¥–æ–≤–µ—Ä–∏–µ)</label>
                        <input type="file" id="request-photo" accept="image/*" style="padding: 0.5rem;">
                        <small style="color: var(--color-text-light); display: block; margin-top: 0.5rem;">
                            üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–µ–µ —Å–∏—Ç—É–∞—Ü–∏—é (–∑–∞—Ç–æ–ø–ª–µ–Ω–∏–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —Ç.–¥.)
                        </small>
                    </div>

                    <button type="submit" class="btn btn-primary">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å</button>
                </form>
            </div>

            <div class="card">
                <h2>–í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                <div class="alert alert-warning">
                    <strong>‚ö†Ô∏è –ü—Ä–∏ —É–≥—Ä–æ–∑–µ –∂–∏–∑–Ω–∏</strong> –∑–≤–æ–Ω–∏—Ç–µ –ø–æ –Ω–æ–º–µ—Ä—É 112 (–ú–ß–°)
                </div>
                <p style="margin-top: 1rem; color: var(--color-text-light);">
                    –í–∞—à –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂—ë–Ω –Ω–∞ –∫–∞—Ä—Ç–µ –∏ —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞–º –∏ —Å–ª—É–∂–±–∞–º. 
                    –°—Ç–∞—Ç—É—Å –∑–∞–ø—Ä–æ—Å–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.
                </p>
            </div>
        </div>

        <!-- –í–æ–ª–æ–Ω—Ç—ë—Ä—ã -->
        <div id="tab-volunteers" class="tab-content">
            <div class="alert alert-info">
                <strong>ü§ù –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞–º!</strong> –°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –≤—Å—Ç—É–ø–∏—Ç–µ –≤ –≥—Ä—É–ø–ø—É, —á—Ç–æ–±—ã –ø–æ–º–æ–≥–∞—Ç—å –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏–º
            </div>

            <div class="card">
                <h2>–°–æ–∑–¥–∞—Ç—å –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫—É—é –≥—Ä—É–ø–ø—É</h2>
                <form id="create-group-form">
                    <div class="form-group">
                        <label for="group-name">–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã *</label>
                        <input type="text" id="group-name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í–æ–ª–æ–Ω—Ç—ë—Ä—ã –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–∞–π–æ–Ω–∞" required>
                    </div>

                    <div class="form-group">
                        <label for="group-leader">–ò–º—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ *</label>
                        <input type="text" id="group-leader" placeholder="–í–∞—à–µ –∏–º—è" required>
                    </div>

                    <div class="form-group">
                        <label for="group-phone">–¢–µ–ª–µ—Ñ–æ–Ω –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ *</label>
                        <input type="tel" id="group-phone" placeholder="+7 (___) ___-__-__" required>
                    </div>

                    <div class="form-group">
                        <label for="group-area">–†–∞–π–æ–Ω —Ä–∞–±–æ—Ç—ã *</label>
                        <select id="group-area" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω</option>
                            <option value="central">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω</option>
                            <option value="east">–í–æ—Å—Ç–æ—á–Ω—ã–π —Ä–∞–π–æ–Ω</option>
                            <option value="west">–ó–∞–ø–∞–¥–Ω—ã–π —Ä–∞–π–æ–Ω</option>
                            <option value="south">–Æ–∂–Ω—ã–π —Ä–∞–π–æ–Ω</option>
                            <option value="all">–í—Å–µ —Ä–∞–π–æ–Ω—ã</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="group-resources">–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</label>
                        <textarea id="group-resources" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã, –ø—Ä–æ–¥—É–∫—Ç—ã –ø–∏—Ç–∞–Ω–∏—è"></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary">‚ûï –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É</button>
                </form>
            </div>

            <div class="card">
                <h2>–ê–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã</h2>
                <div id="volunteer-groups-list">
                    <!-- –ì—Ä—É–ø–ø—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <div class="card">
                <h2>üìç –ö–∞—Ä—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–º–æ—â–∏ –¥–ª—è –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤</h2>
                <p style="margin-bottom: 1rem; color: var(--color-text-light);">
                    –í—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–º–æ—â–∏ –Ω–∞ –∫–∞—Ä—Ç–µ. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è
                </p>
                <div id="volunteer-map" style="height: 500px; border-radius: 12px; margin-bottom: 1rem;"></div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="vol-pending-requests">0</div>
                        <div class="stat-label">–û–∂–∏–¥–∞—é—Ç –ø–æ–º–æ—â–∏</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="vol-in-progress">0</div>
                        <div class="stat-label">–í —Ä–∞–±–æ—Ç–µ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="vol-completed">0</div>
                        <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –û–±—É—á–µ–Ω–∏–µ -->
        <div id="tab-education" class="tab-content">
            <div class="alert alert-success">
                <strong>üéì –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–ø–∞—Å–∞–µ—Ç –∂–∏–∑–Ω–∏!</strong> –ü—Ä–æ–π–¥–∏—Ç–µ –≤—Å–µ —É—Ä–æ–∫–∏, —á—Ç–æ–±—ã –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã–º –∫ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—é
            </div>

            <div class="lesson-card" onclick="openLesson('safety')">
                <h3>üõ°Ô∏è –£—Ä–æ–∫ 1: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏–∏</h3>
                <p>–£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏ —É–≥—Ä–æ–∑–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ–º—å–∏</p>
            </div>

            <div class="lesson-card" onclick="openLesson('bag')">
                <h3>üéí –£—Ä–æ–∫ 2: –¢—Ä–µ–≤–æ–∂–Ω—ã–π —Ä—é–∫–∑–∞–∫</h3>
                <p>–°–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –≤–µ—â–µ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —ç–≤–∞–∫—É–∞—Ü–∏–∏</p>
            </div>

            <div class="lesson-card" onclick="openLesson('evacuation')">
                <h3>üö∂ –£—Ä–æ–∫ 3: –ú–∞—Ä—à—Ä—É—Ç—ã —ç–≤–∞–∫—É–∞—Ü–∏–∏</h3>
                <p>–ò–∑—É—á–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —ç–≤–∞–∫—É–∞—Ü–∏–∏ –≤ –≤–∞—à–µ–º —Ä–∞–π–æ–Ω–µ</p>
            </div>

            <div class="lesson-card" onclick="openLesson('signals')">
                <h3>üì¢ –£—Ä–æ–∫ 4: –°–∏–≥–Ω–∞–ª—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h3>
                <p>–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–∏–±–ª–∏–∂–∞—é—â–µ–π—Å—è –æ–ø–∞—Å–Ω–æ—Å—Ç–∏</p>
            </div>

            <div class="lesson-card" onclick="openLesson('health')">
                <h3>üè• –£—Ä–æ–∫ 5: –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –ø–æ—Å–ª–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è</h3>
                <p>–ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å —Å–µ–±—è –æ—Ç –∏–Ω—Ñ–µ–∫—Ü–∏–π –∏ –±–æ–ª–µ–∑–Ω–µ–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∑–∞—Ç–æ–ø–ª–µ–Ω–∏–µ–º</p>
            </div>

            <div class="card">
                <h2>üí¨ –ß–∞—Ç —Å AI-–ø–æ–º–æ—â–Ω–∏–∫–æ–º (Powered by Perplexity)</h2>
                <p style="margin-bottom: 1rem; color: var(--color-text-light);">
                    –ó–∞–¥–∞–π—Ç–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è–º, –¥–µ–π—Å—Ç–≤–∏—è—Ö –≤ –ß–° –∏–ª–∏ —ç–≤–∞–∫—É–∞—Ü–∏–∏. AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤.
                </p>
                <div class="alert alert-info" style="margin-bottom: 1rem;">
                    <strong>üí° –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á:</strong> 
                    1) –ó–∞–π–¥–∏—Ç–µ –Ω–∞ <a href="https://www.perplexity.ai/settings/api" target="_blank" style="color: var(--color-primary); text-decoration: underline;">Perplexity AI Settings</a>
                    2) –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á (—ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ —Ç–µ–∫—Å—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: "pplx-abc123def456...")
                    3) –ó–∞–º–µ–Ω–∏—Ç–µ "YOUR_PERPLEXITY_API_KEY" –≤ –∫–æ–¥–µ –Ω–∏–∂–µ –Ω–∞ –≤–∞—à –∫–ª—é—á
                    4) API –∫–ª—é—á –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫: <code style="background: rgba(0,0,0,0.1); padding: 0.2rem 0.5rem; border-radius: 4px;">pplx-1a2b3c4d5e6f7g8h9i...</code>
                </div>
                <div class="chat-container">
                    <div class="chat-messages" id="chat-messages">
                        <div class="chat-message ai">
                            <div class="chat-avatar">ü§ñ</div>
                            <div class="chat-bubble">
                                –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø AI-–ø–æ–º–æ—â–Ω–∏–∫ FloodHelp. –ó–∞–¥–∞–π—Ç–µ –º–Ω–µ –≤–æ–ø—Ä–æ—Å –æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è–º, –¥–µ–π—Å—Ç–≤–∏—è—Ö –≤ —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –∏–ª–∏ —ç–≤–∞–∫—É–∞—Ü–∏–∏. –Ø –ø–æ–º–æ–≥—É –≤–∞–º –ø–æ–ª—É—á–∏—Ç—å –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é!
                            </div>
                        </div>
                    </div>
                    <div class="chat-typing" id="chat-typing">AI –ø–µ—á–∞—Ç–∞–µ—Ç...</div>
                    <div class="chat-input-container">
                        <input type="text" id="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..." />
                        <button onclick="sendChatMessage()">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h2>
                <ul class="checklist">
                    <li><strong>112</strong> ‚Äî –ú–ß–° (–∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ)</li>
                    <li><strong>103</strong> ‚Äî –°–∫–æ—Ä–∞—è –ø–æ–º–æ—â—å</li>
                    <li><strong>102</strong> ‚Äî –ü–æ–ª–∏—Ü–∏—è</li>
                    <li><strong>–ê–∫–∏–º–∞—Ç –°–ö–û:</strong> +7 (7152) 46-14-71</li>
                </ul>
            </div>
        </div>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div id="tab-stats" class="tab-content">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-requests">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="active-requests">0</div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completed-requests">0</div>
                    <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="users-trained">0</div>
                    <div class="stat-label">–ü—Ä–æ—à–ª–∏ –æ–±—É—á–µ–Ω–∏–µ</div>
                </div>
            </div>

            <div class="card">
                <h2>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Ç–∏–ø–∞–º</h2>
                <div style="margin-top: 1.5rem;">
                    <div style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>üíß –í–æ–¥–∞</span>
                            <span id="water-percent">0%</span>
                        </div>
                        <div style="background: #E3F2FD; height: 30px; border-radius: 15px; overflow: hidden;">
                            <div id="water-bar" style="background: #2196F3; height: 100%; width: 0%; transition: width 0.5s;"></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>üçû –ï–¥–∞</span>
                            <span id="food-percent">0%</span>
                        </div>
                        <div style="background: #FFF3E0; height: 30px; border-radius: 15px; overflow: hidden;">
                            <div id="food-bar" style="background: #FF9800; height: 100%; width: 0%; transition: width 0.5s;"></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>üíä –ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã</span>
                            <span id="medical-percent">0%</span>
                        </div>
                        <div style="background: #F3E5F5; height: 30px; border-radius: 15px; overflow: hidden;">
                            <div id="medical-bar" style="background: #9C27B0; height: 100%; width: 0%; transition: width 0.5s;"></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>üö® –≠–≤–∞–∫—É–∞—Ü–∏—è</span>
                            <span id="evacuation-percent">0%</span>
                        </div>
                        <div style="background: #FFEBEE; height: 30px; border-radius: 15px; overflow: hidden;">
                            <div id="evacuation-bar" style="background: #F44336; height: 100%; width: 0%; transition: width 0.5s;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üåç –ë–ª–∏–∂–∞–π—à–∏–µ –∑–æ–Ω—ã –±–µ–¥—Å—Ç–≤–∏–π –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ –∏ –º–∏—Ä–µ</h2>
                <div id="nearby-disasters" style="margin-bottom: 1.5rem;">
                    <!-- –ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <div class="card">
                <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</h2>
                <div id="recent-updates">
                    <p style="color: var(--color-text-light); text-align: center; padding: 2rem;">
                        –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º –ø–æ–º–æ—â–∏
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É—Ä–æ–∫–æ–≤ -->
    <div class="modal" id="lesson-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="lesson-title">–£—Ä–æ–∫</h3>
                <button class="close-btn" onclick="closeLesson()">&times;</button>
            </div>
            <div id="lesson-content">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —É—Ä–æ–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <button class="btn btn-success" onclick="completeLesson()" style="margin-top: 1.5rem; width: 100%;">
                ‚úì –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫
            </button>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
        const map = L.map('map').setView([54.8656, 69.1433], 12); // –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors'
        }).addTo(map);

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–∞ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let userLocationMarker = null;

        function updateUserLocation() {
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–∞ –≤–º–µ—Å—Ç–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
            const userLat = 54.8656;
            const userLng = 69.1433;

            // –°–æ–∑–¥–∞—ë–º –∏–∫–æ–Ω–∫—É –¥–ª—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userIcon = L.divIcon({
                html: `<div style="position: relative;">
                    <div style="background: #4CAF50; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.3);"></div>
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 40px; height: 40px; border-radius: 50%; background: rgba(76, 175, 80, 0.2); animation: pulse 2s infinite;"></div>
                </div>
                <style>
                    @keyframes pulse {
                        0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                        100% { transform: translate(-50%, -50%) scale(2); opacity: 0; }
                    }
                </style>`,
                className: '',
                iconSize: [40, 40]
            });

            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –º–∞—Ä–∫–µ—Ä, –µ—Å–ª–∏ –µ—Å—Ç—å
            if (userLocationMarker) {
                map.removeLayer(userLocationMarker);
            }

            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –º–∞—Ä–∫–µ—Ä
            userLocationMarker = L.marker([userLat, userLng], { icon: userIcon }).addTo(map);
            userLocationMarker.bindPopup(`
                <div style="text-align: center;">
                    <h4 style="margin: 0 0 0.5rem 0; color: #4CAF50;">üìç –í—ã –∑–¥–µ—Å—å</h4>
                    <p style="margin: 0; font-size: 0.9rem;">–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫, –°–ö–û</p>
                    <p style="margin: 0.5rem 0 0 0; font-size: 0.85rem; color: #666;">
                        ${userLat.toFixed(5)}, ${userLng.toFixed(5)}
                    </p>
                </div>
            `);

            // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–∞—Ä—Ç—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏
            map.setView([userLat, userLng], 13);
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        updateUserLocation();

        // –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –±—É–¥–µ—Ç –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
        let requests = [
            {
                id: 1,
                type: 'water',
                name: '–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞',
                phone: '+7 (705) 123-45-67',
                address: '—É–ª. –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞, 45',
                details: '–ù—É–∂–Ω–∞ –ø–∏—Ç—å–µ–≤–∞—è –≤–æ–¥–∞ –¥–ª—è —Å–µ–º—å–∏ –∏–∑ 4 —á–µ–ª–æ–≤–µ–∫',
                people: 4,
                status: 'pending',
                verified: true,
                photoProof: 'flooded_kitchen.jpg',
                lat: 54.8750,
                lng: 69.1550,
                timestamp: new Date()
            },
            {
                id: 2,
                type: 'food',
                name: '–ü–µ—Ç—Ä –°–º–∏—Ä–Ω–æ–≤',
                phone: '+7 (705) 234-56-78',
                address: '—É–ª. –ú–∏—Ä–∞, 12',
                details: '–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –Ω–∞ 2-3 –¥–Ω—è',
                people: 2,
                status: 'in-progress',
                verified: true,
                photoProof: 'empty_fridge.jpg',
                lat: 54.8700,
                lng: 69.1500,
                timestamp: new Date()
            },
            {
                id: 3,
                type: 'medical',
                name: '–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞',
                phone: '+7 (705) 345-67-89',
                address: '–ø—Ä. –ê–±–∞—è, 78',
                details: '–ù–µ–æ–±—Ö–æ–¥–∏–º—ã –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ –¥–ª—è –ø–æ–∂–∏–ª–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞',
                people: 1,
                status: 'pending',
                verified: false,
                photoProof: null,
                lat: 54.8600,
                lng: 69.1350,
                timestamp: new Date()
            }
        ];

        let markers = [];
        let completedLessons = 0;
        let volunteerGroups = [
            {
                id: 1,
                name: '–í–æ–ª–æ–Ω—Ç—ë—Ä—ã –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–∞–π–æ–Ω–∞',
                leader: '–ê–ª–µ–∫—Å–µ–π –°–º–∏—Ä–Ω–æ–≤',
                phone: '+7 (705) 111-22-33',
                area: '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω',
                members: 15,
                resources: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (3 –º–∞—à–∏–Ω—ã), –ø—Ä–æ–¥—É–∫—Ç—ã –ø–∏—Ç–∞–Ω–∏—è, –≤–æ–¥–∞',
                active: true
            },
            {
                id: 2,
                name: '–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø–æ–º–æ—â—å –°–ö–û',
                leader: '–î–æ–∫—Ç–æ—Ä –ê–π–≥—É–ª—å –¢–µ–º–∏—Ä–æ–≤–∞',
                phone: '+7 (705) 222-33-44',
                area: '–í—Å–µ —Ä–∞–π–æ–Ω—ã',
                members: 8,
                resources: '–ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã, –ø–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏',
                active: true
            },
            {
                id: 3,
                name: '–≠–≤–∞–∫—É–∞—Ü–∏–æ–Ω–Ω–∞—è –±—Ä–∏–≥–∞–¥–∞ –í–æ—Å—Ç–æ–∫',
                leader: '–°–µ—Ä–≥–µ–π –ò–≤–∞–Ω–æ–≤',
                phone: '+7 (705) 333-44-55',
                area: '–í–æ—Å—Ç–æ—á–Ω—ã–π —Ä–∞–π–æ–Ω',
                members: 12,
                resources: '–ì—Ä—É–∑–æ–≤–∏–∫–∏, –ª–æ–¥–∫–∏, —ç–≤–∞–∫—É–∞—Ü–∏–æ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ',
                active: true
            }
        ];
        let volunteerMap;
        let volunteerMarkers = [];

        // –§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
        function switchTab(tabName) {
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(`tab-${tabName}`).classList.add('active');
            
            if (tabName === 'map') {
                setTimeout(() => map.invalidateSize(), 100);
                updateMap();
            } else if (tabName === 'stats') {
                updateStats();
            } else if (tabName === 'volunteers') {
                initVolunteerMap();
                updateVolunteerGroups();
                updateVolunteerStats();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
        function updateMap() {
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            const typeIcons = {
                water: 'üíß',
                food: 'üçû',
                medical: 'üíä',
                evacuation: 'üö®',
                shelter: 'üè†'
            };

            const typeColors = {
                water: '#2196F3',
                food: '#FF9800',
                medical: '#9C27B0',
                evacuation: '#F44336',
                shelter: '#4CAF50'
            };

            requests.forEach(request => {
                const icon = L.divIcon({
                    html: `<div style="background: ${typeColors[request.type]}; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">${typeIcons[request.type]}</div>`,
                    className: '',
                    iconSize: [40, 40]
                });

                const marker = L.marker([request.lat, request.lng], { icon }).addTo(map);
                
                const statusText = {
                    pending: '–û–∂–∏–¥–∞–µ—Ç',
                    'in-progress': '–í –ø—Ä–æ—Ü–µ—Å—Å–µ',
                    completed: '–í—ã–ø–æ–ª–Ω–µ–Ω–æ'
                };

                marker.bindPopup(`
                    <div style="min-width: 200px;">
                        <h3 style="margin: 0 0 0.5rem 0;">${typeIcons[request.type]} ${getTypeName(request.type)}</h3>
                        <p><strong>–ò–º—è:</strong> ${request.name}</p>
                        <p><strong>–ê–¥—Ä–µ—Å:</strong> ${request.address}</p>
                        <p><strong>–õ—é–¥–µ–π:</strong> ${request.people}</p>
                        <p><strong>–°—Ç–∞—Ç—É—Å:</strong> ${statusText[request.status]}</p>
                        <p style="margin-top: 0.5rem; color: #666;">${request.details}</p>
                    </div>
                `);
                
                markers.push(marker);
            });

            updateRequestList();
            updateAggregatedStats();
        }

        // –§–∏–ª—å—Ç—Ä—ã
        let currentFilters = {
            status: 'all',
            type: 'all'
        };

        function applyFilters() {
            currentFilters.status = document.getElementById('status-filter').value;
            currentFilters.type = document.getElementById('type-filter').value;
            updateRequestList();
        }

        function getFilteredRequests() {
            return requests.filter(request => {
                const statusMatch = currentFilters.status === 'all' || request.status === currentFilters.status;
                const typeMatch = currentFilters.type === 'all' || request.type === currentFilters.type;
                return statusMatch && typeMatch;
            });
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
        function updateRequestList() {
            const listElement = document.getElementById('request-list');
            const filteredRequests = getFilteredRequests();
            
            if (filteredRequests.length === 0) {
                listElement.innerHTML = '<p style="text-align: center; color: #999; padding: 2rem;">–ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º</p>';
                return;
            }

            listElement.innerHTML = filteredRequests.map(request => {
                const typeIcons = {
                    water: 'üíß',
                    food: 'üçû',
                    medical: 'üíä',
                    evacuation: 'üö®',
                    shelter: 'üè†'
                };

                const statusText = {
                    pending: '–û–∂–∏–¥–∞–µ—Ç',
                    'in-progress': '–í –ø—Ä–æ—Ü–µ—Å—Å–µ',
                    completed: '–í—ã–ø–æ–ª–Ω–µ–Ω–æ'
                };

                return `
                    <div class="request-item" onclick="openRequestDetail(${request.id})">
                        <div class="request-header">
                            <span class="request-type type-${request.type}">
                                ${typeIcons[request.type]} ${getTypeName(request.type)}
                            </span>
                            <div style="display: flex; gap: 0.5rem; align-items: center;">
                                ${request.verified ? '<span style="background: #E8F5E9; color: #2E7D32; padding: 0.375rem 0.875rem; border-radius: 20px; font-size: 0.875rem; font-weight: 600;">‚úì –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ</span>' : ''}
                                <span class="status-badge status-${request.status}">
                                    ${statusText[request.status]}
                                </span>
                            </div>
                        </div>
                        <p><strong>${request.name}</strong></p>
                        <p>üìç ${request.address}</p>
                        <p>üë• ${request.people} —á–µ–ª. | üìû ${request.phone}</p>
                        <p style="margin-top: 0.5rem; color: #666;">${request.details}</p>
                        <p style="margin-top: 0.5rem; font-size: 0.85rem; color: var(--color-text-light);">
                            üïí –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π
                        </p>
                    </div>
                `;
            }).join('');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateAggregatedStats() {
            const stats = {
                water: 0,
                food: 0,
                medical: 0,
                evacuation: 0
            };

            requests.forEach(request => {
                if (stats.hasOwnProperty(request.type)) {
                    stats[request.type]++;
                }
            });

            document.getElementById('total-water').textContent = stats.water;
            document.getElementById('total-food').textContent = stats.food;
            document.getElementById('total-medical').textContent = stats.medical;
            document.getElementById('total-evacuation').textContent = stats.evacuation;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStats() {
            const total = requests.length;
            const active = requests.filter(r => r.status !== 'completed').length;
            const completed = requests.filter(r => r.status === 'completed').length;

            document.getElementById('total-requests').textContent = total;
            document.getElementById('active-requests').textContent = active;
            document.getElementById('completed-requests').textContent = completed;
            document.getElementById('users-trained').textContent = completedLessons;

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–ª–∏–∂–∞–π—à–∏—Ö –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞—Ö
            updateNearbyDisasters();

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
            const typeCounts = {
                water: requests.filter(r => r.type === 'water').length,
                food: requests.filter(r => r.type === 'food').length,
                medical: requests.filter(r => r.type === 'medical').length,
                evacuation: requests.filter(r => r.type === 'evacuation').length
            };

            const types = ['water', 'food', 'medical', 'evacuation'];
            types.forEach(type => {
                const percent = total > 0 ? Math.round((typeCounts[type] / total) * 100) : 0;
                document.getElementById(`${type}-percent`).textContent = `${percent}%`;
                document.getElementById(`${type}-bar`).style.width = `${percent}%`;
            });
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∏–ø–∞ –ø–æ–º–æ—â–∏
        function getTypeName(type) {
            const names = {
                water: '–í–æ–¥–∞',
                food: '–ï–¥–∞',
                medical: '–ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã',
                evacuation: '–≠–≤–∞–∫—É–∞—Ü–∏—è',
                shelter: '–ñ–∏–ª—å—ë'
            };
            return names[type] || type;
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–º–æ—â–∏
        document.getElementById('help-form').addEventListener('submit', function(e) {
            e.preventDefault();

            const photoInput = document.getElementById('request-photo');
            const hasPhoto = photoInput.files.length > 0;
            const photoName = hasPhoto ? photoInput.files[0].name : null;

            const newRequest = {
                id: requests.length + 1,
                type: document.getElementById('request-type').value,
                name: document.getElementById('request-name').value,
                phone: document.getElementById('request-phone').value,
                address: document.getElementById('request-address').value,
                details: document.getElementById('request-details').value,
                people: parseInt(document.getElementById('request-people').value),
                status: 'pending',
                verified: hasPhoto,
                photoProof: photoName,
                lat: 54.8656 + (Math.random() - 0.5) * 0.02,
                lng: 69.1433 + (Math.random() - 0.5) * 0.02,
                timestamp: new Date()
            };

            requests.push(newRequest);
            
            document.getElementById('success-message').classList.add('active');
            this.reset();

            setTimeout(() => {
                document.getElementById('success-message').classList.remove('active');
            }, 5000);

            updateMap();
        });

        // –û—Ç–∫—Ä—ã—Ç–∏–µ —É—Ä–æ–∫–∞
        function openLesson(lessonId) {
            const lessons = {
                safety: {
                    title: 'üõ°Ô∏è –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏–∏',
                    content: `
                        <h3>–î–æ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è:</h3>
                        <ul class="checklist">
                            <li>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–º –ø–æ–≥–æ–¥—ã –∏ —É—Ä–æ–≤–Ω–µ–º –≤–æ–¥—ã</li>
                            <li>–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Ç—Ä–µ–≤–æ–∂–Ω—ã–π —Ä—é–∫–∑–∞–∫</li>
                            <li>–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —ç–≤–∞–∫—É–∞—Ü–∏–∏</li>
                            <li>–ü–æ–¥–Ω–∏–º–∏—Ç–µ —Ü–µ–Ω–Ω—ã–µ –≤–µ—â–∏ –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–µ —ç—Ç–∞–∂–∏</li>
                        </ul>
                        <h3>–í–æ –≤—Ä–µ–º—è –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è:</h3>
                        <ul class="checklist">
                            <li>–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–∫–∏–Ω—å—Ç–µ –æ–ø–∞—Å–Ω—É—é –∑–æ–Ω—É</li>
                            <li>–î–≤–∏–≥–∞–π—Ç–µ—Å—å –∫ –≤–æ–∑–≤—ã—à–µ–Ω–Ω–æ—Å—Ç—è–º</li>
                            <li>–ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å –ø–æ—Ç–æ–∫–∏ –≤–æ–¥—ã</li>
                            <li>–ó–≤–æ–Ω–∏—Ç–µ 112 –ø—Ä–∏ —É–≥—Ä–æ–∑–µ –∂–∏–∑–Ω–∏</li>
                        </ul>
                        <h3>–ü–æ—Å–ª–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è:</h3>
                        <ul class="checklist">
                            <li>–î–æ–∂–¥–∏—Ç–µ—Å—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–µ—Ä–Ω—É—Ç—å—Å—è</li>
                            <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–º –Ω–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è</li>
                            <li>–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏</li>
                            <li>–û—á–∏—Å—Ç–∏—Ç–µ –≤–æ–¥—É –ø–µ—Ä–µ–¥ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º</li>
                        </ul>
                    `
                },
                bag: {
                    title: 'üéí –¢—Ä–µ–≤–æ–∂–Ω—ã–π —Ä—é–∫–∑–∞–∫',
                    content: `
                        <p>–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Ä—é–∫–∑–∞–∫ —Å–æ –≤—Å–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –¥–ª—è —ç–≤–∞–∫—É–∞—Ü–∏–∏:</p>
                        <h3>–î–æ–∫—É–º–µ–Ω—Ç—ã:</h3>
                        <ul class="checklist">
                            <li>–ü–∞—Å–ø–æ—Ä—Ç–∞, —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ (–∫–æ–ø–∏–∏ –≤ –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ–º –ø–∞–∫–µ—Ç–µ)</li>
                            <li>–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –ø–æ–ª–∏—Å—ã</li>
                            <li>–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã –∏ –Ω–µ–º–Ω–æ–≥–æ –Ω–∞–ª–∏—á–Ω—ã—Ö</li>
                        </ul>
                        <h3>–í–µ—â–∏ –ø–µ—Ä–≤–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:</h3>
                        <ul class="checklist">
                            <li>–í–æ–¥–∞ (2 –ª–∏—Ç—Ä–∞ –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞)</li>
                            <li>–ï–¥–∞ (–∫–æ–Ω—Å–µ—Ä–≤—ã, —Å—É—Ö–∞—Ä–∏, —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–µ –±–∞—Ç–æ–Ω—á–∏–∫–∏)</li>
                            <li>–§–æ–Ω–∞—Ä–∏–∫ –∏ –∑–∞–ø–∞—Å–Ω—ã–µ –±–∞—Ç–∞—Ä–µ–π–∫–∏</li>
                            <li>–ê–ø—Ç–µ—á–∫–∞ –ø–µ—Ä–≤–æ–π –ø–æ–º–æ—â–∏</li>
                            <li>–õ–µ–∫–∞—Ä—Å—Ç–≤–∞ (–µ—Å–ª–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ)</li>
                            <li>–¢—ë–ø–ª–∞—è –æ–¥–µ–∂–¥–∞ –∏ –¥–æ–∂–¥–µ–≤–∏–∫</li>
                            <li>–ú–æ–±–∏–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –∑–∞—Ä—è–¥–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</li>
                            <li>–°–≤–∏—Å—Ç–æ–∫ –¥–ª—è –ø–æ–¥–∞—á–∏ —Å–∏–≥–Ω–∞–ª–∞</li>
                        </ul>
                    `
                },
                evacuation: {
                    title: 'üö∂ –ú–∞—Ä—à—Ä—É—Ç—ã —ç–≤–∞–∫—É–∞—Ü–∏–∏',
                    content: `
                        <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —ç–≤–∞–∫—É–∞—Ü–∏–∏:</h3>
                        <ul class="checklist">
                            <li>–ó–∞—Ä–∞–Ω–µ–µ –∏–∑—É—á–∏—Ç–µ –∫–∞—Ä—Ç—É –≤–∞—à–µ–≥–æ —Ä–∞–π–æ–Ω–∞</li>
                            <li>–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ 2-3 –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∞ –∫ –≤–æ–∑–≤—ã—à–µ–Ω–Ω–æ—Å—Ç—è–º</li>
                            <li>–ó–∞–ø–æ–º–Ω–∏—Ç–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø—É–Ω–∫—Ç–æ–≤ —Å–±–æ—Ä–∞</li>
                            <li>–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–∏—Ñ—Ç—ã –ø—Ä–∏ —ç–≤–∞–∫—É–∞—Ü–∏–∏</li>
                        </ul>
                        <h3>–ü—É–Ω–∫—Ç—ã –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≤ –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–µ:</h3>
                        <ul class="checklist">
                            <li>–®–∫–æ–ª–∞ ‚Ññ5 (—É–ª. –ê–±–∞—è, 120)</li>
                            <li>–°–ø–æ—Ä—Ç–∫–æ–º–ø–ª–µ–∫—Å "“ö–∞–π—Ä–∞—Ç" (–ø—Ä. –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏, 56)</li>
                            <li>–î–ö "–°—Ç—Ä–æ–∏—Ç–µ–ª—å" (—É–ª. –ú–∏—Ä–∞, 34)</li>
                        </ul>
                        <div class="alert alert-warning" style="margin-top: 1rem;">
                            <strong>–í–∞–∂–Ω–æ:</strong> –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞ —ç–≤–∞–∫—É–∞—Ü–∏–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–∫–∏–Ω—å—Ç–µ –¥–æ–º. –í–æ–∑—å–º–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Ç—Ä–µ–≤–æ–∂–Ω—ã–π —Ä—é–∫–∑–∞–∫!
                        </div>
                    `
                },
                signals: {
                    title: 'üì¢ –°–∏–≥–Ω–∞–ª—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏',
                    content: `
                        <h3>–ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–∏–±–ª–∏–∂–∞—é—â–µ–≥–æ—Å—è –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è:</h3>
                        <ul class="checklist">
                            <li>–ë—ã—Å—Ç—Ä—ã–π –ø–æ–¥—ä—ë–º —É—Ä–æ–≤–Ω—è –≤–æ–¥—ã –≤ —Ä–µ–∫–∞—Ö</li>
                            <li>–ü–æ—è–≤–ª–µ–Ω–∏–µ –≤–æ–¥—ã –≤ –ø–æ–¥–≤–∞–ª–∞—Ö –∏ –Ω–∞ —É–ª–∏—Ü–∞—Ö</li>
                            <li>–°–∏–ª—å–Ω—ã–µ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Å–∞–¥–∫–∏</li>
                            <li>–¢–∞—è–Ω–∏–µ —Å–Ω–µ–≥–∞ –ø—Ä–∏ —Ä–µ–∑–∫–æ–º –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–∏</li>
                        </ul>
                        <h3>–°–∏—Å—Ç–µ–º—ã –æ–ø–æ–≤–µ—â–µ–Ω–∏—è:</h3>
                        <ul class="checklist">
                            <li>–°–∏—Ä–µ–Ω—ã (–¥–ª–∏–Ω–Ω—ã–π –ø—Ä–µ—Ä—ã–≤–∏—Å—Ç—ã–π –∑–≤—É–∫)</li>
                            <li>Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ FloodHelp</li>
                            <li>SMS –æ—Ç –ú–ß–°</li>
                            <li>–°–æ–æ–±—â–µ–Ω–∏—è –ø–æ —Ä–∞–¥–∏–æ –∏ –¢–í</li>
                        </ul>
                        <div class="alert alert-info" style="margin-top: 1rem;">
                            <strong>–ù–æ–º–µ—Ä 112</strong> ‚Äî –µ–¥–∏–Ω—ã–π –Ω–æ–º–µ—Ä –≤—ã–∑–æ–≤–∞ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É–∂–±. –†–∞–±–æ—Ç–∞–µ—Ç –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ!
                        </div>
                    `
                },
                health: {
                    title: 'üè• –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –ø–æ—Å–ª–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è',
                    content: `
                        <h3>–û—Å–Ω–æ–≤–Ω—ã–µ —É–≥—Ä–æ–∑—ã –∑–¥–æ—Ä–æ–≤—å—é:</h3>
                        <ul class="checklist">
                            <li>–ö–∏—à–µ—á–Ω—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏ (—Ö–æ–ª–µ—Ä–∞, –¥–∏–∑–µ–Ω—Ç–µ—Ä–∏—è, –≥–µ–ø–∞—Ç–∏—Ç –ê)</li>
                            <li>–ö–æ–∂–Ω—ã–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è –∏ –≥—Ä–∏–±–∫–æ–≤—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏</li>
                            <li>–†–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–Ω—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏ –∏–∑-–∑–∞ —Å—ã—Ä–æ—Å—Ç–∏</li>
                            <li>–ú–∞–ª—è—Ä–∏—è –∏ –¥—Ä—É–≥–∏–µ –±–æ–ª–µ–∑–Ω–∏, –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–µ –∫–æ–º–∞—Ä–∞–º–∏</li>
                            <li>–õ–µ–ø—Ç–æ—Å–ø–∏—Ä–æ–∑ (–æ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –≤–æ–¥–æ–π, –∑–∞–≥—Ä—è–∑–Ω—ë–Ω–Ω–æ–π –º–æ—á–æ–π –≥—Ä—ã–∑—É–Ω–æ–≤)</li>
                        </ul>
                        <h3>–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –≤–æ–¥–Ω—ã—Ö –∏–Ω—Ñ–µ–∫—Ü–∏–π:</h3>
                        <ul class="checklist">
                            <li>–ü–µ–π—Ç–µ –¢–û–õ–¨–ö–û –±—É—Ç–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–ª–∏ –∫–∏–ø—è—á—ë–Ω—É—é –≤–æ–¥—É (–º–∏–Ω–∏–º—É–º 1 –º–∏–Ω—É—Ç–∞ –∫–∏–ø–µ–Ω–∏—è)</li>
                            <li>–ú–æ–π—Ç–µ —Ä—É–∫–∏ —Å –º—ã–ª–æ–º –ø–µ—Ä–µ–¥ –µ–¥–æ–π –∏ –ø–æ—Å–ª–µ —Ç—É–∞–ª–µ—Ç–∞</li>
                            <li>–ù–µ —É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ –ø–∏—â—É, –∫–æ–Ω—Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–≤—à—É—é —Å –≤–æ–¥–æ–π –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è</li>
                            <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω—Ç–∏–±–∞–∫—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–π –≥–µ–ª—å –¥–ª—è —Ä—É–∫</li>
                            <li>–¢—â–∞—Ç–µ–ª—å–Ω–æ –º–æ–π—Ç–µ —Ñ—Ä—É–∫—Ç—ã –∏ –æ–≤–æ—â–∏ –∫–∏–ø—è—á—ë–Ω–æ–π –≤–æ–¥–æ–π</li>
                        </ul>
                        <h3>–ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–∂–Ω—ã—Ö –∏–Ω—Ñ–µ–∫—Ü–∏–π:</h3>
                        <ul class="checklist">
                            <li>–ù–æ—Å–∏—Ç–µ —Ä–µ–∑–∏–Ω–æ–≤—ã–µ —Å–∞–ø–æ–≥–∏ –∏ –ø–µ—Ä—á–∞—Ç–∫–∏ –ø—Ä–∏ –∫–æ–Ω—Ç–∞–∫—Ç–µ —Å –≤–æ–¥–æ–π</li>
                            <li>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Ü–∞—Ä–∞–ø–∏–Ω—ã –∏ –ø–æ—Ä–µ–∑—ã –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫–æ–º –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ</li>
                            <li>–ú–µ–Ω—è–π—Ç–µ –º–æ–∫—Ä—É—é –æ–¥–µ–∂–¥—É –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ</li>
                            <li>–î–µ—Ä–∂–∏—Ç–µ –∫–æ–∂—É —Å—É—Ö–æ–π –∏ —á–∏—Å—Ç–æ–π</li>
                            <li>–ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å—ã–ø–∏ - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∫ –≤—Ä–∞—á—É</li>
                        </ul>
                        <h3>–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ —Ä–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–Ω—ã—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π:</h3>
                        <ul class="checklist">
                            <li>–ü—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–π—Ç–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –¥–∞–∂–µ –µ—Å–ª–∏ —Å—ã—Ä–æ</li>
                            <li>–£–¥–∞–ª—è–π—Ç–µ –ø–ª–µ—Å–µ–Ω—å —Ä–∞—Å—Ç–≤–æ—Ä–æ–º —Ö–ª–æ—Ä–∫–∏ (1:10 —Å –≤–æ–¥–æ–π)</li>
                            <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Å–∫–∏ –ø—Ä–∏ —É–±–æ—Ä–∫–µ –∑–∞—Ç–æ–ø–ª–µ–Ω–Ω—ã—Ö –ø–æ–º–µ—â–µ–Ω–∏–π</li>
                            <li>–û–¥–µ–≤–∞–π—Ç–µ—Å—å —Ç–µ–ø–ª–æ, –∏–∑–±–µ–≥–∞–π—Ç–µ –ø–µ—Ä–µ–æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è</li>
                        </ul>
                        <h3>–ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–º–∞—Ä–æ–≤ –∏ –Ω–∞—Å–µ–∫–æ–º—ã—Ö:</h3>
                        <ul class="checklist">
                            <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–ø–µ–ª–ª–µ–Ω—Ç—ã –Ω–∞ –∫–æ–∂—É –∏ –æ–¥–µ–∂–¥—É</li>
                            <li>–°–ø–∏—Ç–µ –ø–æ–¥ –º–æ—Å–∫–∏—Ç–Ω–æ–π —Å–µ—Ç–∫–æ–π</li>
                            <li>–£—Å—Ç—Ä–∞–Ω—è–π—Ç–µ —Å—Ç–æ—è—á—É—é –≤–æ–¥—É –≤–æ–∑–ª–µ –∂–∏–ª–∏—â–∞</li>
                            <li>–ù–æ—Å–∏—Ç–µ –æ–¥–µ–∂–¥—É —Å –¥–ª–∏–Ω–Ω—ã–º–∏ —Ä—É–∫–∞–≤–∞–º–∏ –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ –∏ –∑–∞–∫–∞—Ç–µ</li>
                        </ul>
                        <div class="alert alert-warning" style="margin-top: 1rem;">
                            <strong>–°–∏–º–ø—Ç–æ–º—ã —Ç—Ä–µ–≤–æ–≥–∏:</strong> –î–∏–∞—Ä–µ—è –±–æ–ª–µ–µ 24 —á–∞—Å–æ–≤, –≤—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, —Ä–≤–æ—Ç–∞, —Å—ã–ø—å, –∂–µ–ª—Ç—É—Ö–∞, —Å–∏–ª—å–Ω–∞—è —Å–ª–∞–±–æ—Å—Ç—å. –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É! –ó–≤–æ–Ω–∏—Ç–µ 103.
                        </div>
                        <h3>–ü–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å –ø—Ä–∏ –¥–∏–∞—Ä–µ–µ:</h3>
                        <ul class="checklist">
                            <li>–ü–µ–π—Ç–µ –º–Ω–æ–≥–æ —á–∏—Å—Ç–æ–π –≤–æ–¥—ã (—Ä–µ–≥–∏–¥—Ä–∞—Ç–∞—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞!)</li>
                            <li>–†–∞—Å—Ç–≤–æ—Ä –¥–ª—è —Ä–µ–≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏: 1 –ª –∫–∏–ø—è—á—ë–Ω–æ–π –≤–æ–¥—ã + 6 —á.–ª. —Å–∞—Ö–∞—Ä–∞ + 0.5 —á.–ª. —Å–æ–ª–∏</li>
                            <li>–ò–∑–±–µ–≥–∞–π—Ç–µ –º–æ–ª–æ—á–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤</li>
                            <li>–ï—à—å—Ç–µ —Ä–∏—Å, –±–∞–Ω–∞–Ω—ã, —Å—É—Ö–∞—Ä–∏</li>
                            <li>–ï—Å–ª–∏ –¥–∏–∞—Ä–µ—è –Ω–µ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç—Å—è - –∫ –≤—Ä–∞—á—É!</li>
                        </ul>
                    `
                }
            };

            const lesson = lessons[lessonId];
            if (lesson) {
                document.getElementById('lesson-title').textContent = lesson.title;
                document.getElementById('lesson-content').innerHTML = lesson.content;
                document.getElementById('lesson-modal').classList.add('active');
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ —É—Ä–æ–∫–∞
        function closeLesson() {
            document.getElementById('lesson-modal').classList.remove('active');
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–∫–∞
        function completeLesson() {
            completedLessons++;
            closeLesson();
            alert('‚úì –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –£—Ä–æ–∫ –ø—Ä–æ–π–¥–µ–Ω. –í—ã —Å—Ç–∞–ª–∏ –±–æ–ª–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–º!');
        }

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç
        async function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;

            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addChatMessage(message, 'user');
            input.value = '';

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏
            document.getElementById('chat-typing').classList.add('active');

            // –ü–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç –æ—Ç AI (—Ç–µ–ø–µ—Ä—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
            try {
                const response = await generateAIResponse(message);
                document.getElementById('chat-typing').classList.remove('active');
                addChatMessage(response, 'ai');
            } catch (error) {
                document.getElementById('chat-typing').classList.remove('active');
                addChatMessage('–ò–∑–≤–∏–Ω–∏—Ç–µ, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ –∏–ª–∏ –∑–≤–æ–Ω–∏—Ç–µ 112 –ø—Ä–∏ —É–≥—Ä–æ–∑–µ –∂–∏–∑–Ω–∏.', 'ai');
            }
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç
        function addChatMessage(text, sender) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}`;
            
            const avatar = sender === 'user' ? 'üë§' : 'ü§ñ';
            
            messageDiv.innerHTML = `
                <div class="chat-avatar">${avatar}</div>
                <div class="chat-bubble">${text}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞—Ç–æ–ø–ª–µ–Ω–∏—è
        function updateFloodSimulation(level) {
            const levelNum = parseInt(level);
            const indicator = document.getElementById('level-indicator');
            const dangerAlert = document.getElementById('danger-alert');
            const dangerAreas = document.getElementById('danger-areas');
            const safeAreas = document.getElementById('safe-areas');
            const diseaseWarning = document.getElementById('disease-warning');
            const diseaseList = document.getElementById('disease-list');
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
            if (levelNum < 30) {
                indicator.textContent = `–£—Ä–æ–≤–µ–Ω—å: ${levelNum}% (–ù–∏–∑–∫–∏–π - –ë–µ–∑–æ–ø–∞—Å–Ω–æ)`;
                indicator.style.background = '#4CAF50';
            } else if (levelNum < 60) {
                indicator.textContent = `–£—Ä–æ–≤–µ–Ω—å: ${levelNum}% (–£–º–µ—Ä–µ–Ω–Ω—ã–π - –ù–∞–±–ª—é–¥–µ–Ω–∏–µ)`;
                indicator.style.background = '#FF9800';
            } else if (levelNum < 80) {
                indicator.textContent = `–£—Ä–æ–≤–µ–Ω—å: ${levelNum}% (–í—ã—Å–æ–∫–∏–π - –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —ç–≤–∞–∫—É–∞—Ü–∏–∏)`;
                indicator.style.background = '#F44336';
            } else {
                indicator.textContent = `–£—Ä–æ–≤–µ–Ω—å: ${levelNum}% (–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô - –≠–í–ê–ö–£–ê–¶–ò–Ø!)`;
                indicator.style.background = '#B71C1C';
            }
            
            // –û–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã
            if (levelNum >= 50) {
                dangerAlert.style.display = 'block';
                let zones = [];
                if (levelNum >= 50) zones.push('–ù–∞–±–µ—Ä–µ–∂–Ω–∞—è —Ä. –ò—à–∏–º');
                if (levelNum >= 60) zones.push('—É–ª. –ú–∏—Ä–∞ (–Ω–∏–∑–∏–Ω–∞)', '–º–∫—Ä. "–Æ–∂–Ω—ã–π"');
                if (levelNum >= 70) zones.push('—É–ª. –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞ (–Ω–∏–∂–Ω—è—è —á–∞—Å—Ç—å)', '–ø—Ä. –ê–±–∞—è (—É—á–∞—Å—Ç–∫–∏ —É —Ä–µ–∫–∏)');
                if (levelNum >= 80) zones.push('–ß–∞—Å—Ç–Ω—ã–π —Å–µ–∫—Ç–æ—Ä (–Ω–∏–∑–∏–Ω–Ω—ã–µ —Ä–∞–π–æ–Ω—ã)', '–º–∫—Ä. "–ó–∞–ø–∞–¥–Ω—ã–π"');
                dangerAreas.textContent = zones.join(', ');
            } else {
                dangerAlert.style.display = 'none';
            }
            
            // –≠–ø–∏–¥–µ–º–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —É–≥—Ä–æ–∑—ã
            if (levelNum >= 60) {
                diseaseWarning.style.display = 'block';
                let diseases = [];
                
                if (levelNum >= 60) {
                    diseases.push({
                        name: '–ö–∏—à–µ—á–Ω—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏',
                        desc: '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫. –ü–µ–π—Ç–µ —Ç–æ–ª—å–∫–æ –∫–∏–ø—è—á—ë–Ω—É—é –≤–æ–¥—É! –ú–æ–π—Ç–µ —Ä—É–∫–∏ —Å –º—ã–ª–æ–º.',
                        level: '–í—ã—Å–æ–∫–∏–π'
                    });
                }
                
                if (levelNum >= 70) {
                    diseases.push({
                        name: '–õ–µ–ø—Ç–æ—Å–ø–∏—Ä–æ–∑',
                        desc: '–ò–Ω—Ñ–µ–∫—Ü–∏—è –æ—Ç –≥—Ä—ã–∑—É–Ω–æ–≤. –ò–∑–±–µ–≥–∞–π—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –≤–æ–¥–æ–π –±–µ–∑ –∑–∞—â–∏—Ç—ã. –ù–æ—Å–∏—Ç–µ —Ä–µ–∑–∏–Ω–æ–≤—ã–µ —Å–∞–ø–æ–≥–∏.',
                        level: '–°—Ä–µ–¥–Ω–∏–π'
                    });
                    diseases.push({
                        name: '–ö–æ–∂–Ω—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏',
                        desc: '–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –≤—Å–µ —Ü–∞—Ä–∞–ø–∏–Ω—ã –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫–æ–º. –î–µ—Ä–∂–∏—Ç–µ –∫–æ–∂—É —Å—É—Ö–æ–π.',
                        level: '–°—Ä–µ–¥–Ω–∏–π'
                    });
                }
                
                if (levelNum >= 80) {
                    diseases.push({
                        name: '–ú–∞–ª—è—Ä–∏—è –∏ —ç–Ω—Ü–µ—Ñ–∞–ª–∏—Ç',
                        desc: '–ö–æ–º–∞—Ä—ã —Ä–∞–∑–º–Ω–æ–∂–∞—é—Ç—Å—è –≤ —Å—Ç–æ—è—á–µ–π –≤–æ–¥–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–ø–µ–ª–ª–µ–Ω—Ç—ã –∏ –º–æ—Å–∫–∏—Ç–Ω—ã–µ —Å–µ—Ç–∫–∏.',
                        level: '–°—Ä–µ–¥–Ω–∏–π'
                    });
                    diseases.push({
                        name: '–†–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–Ω—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏',
                        desc: '–ü–ª–µ—Å–µ–Ω—å –∏ —Å—ã—Ä–æ—Å—Ç—å. –ü—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–π—Ç–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Å–∫–∏ –ø—Ä–∏ —É–±–æ—Ä–∫–µ.',
                        level: '–í—ã—Å–æ–∫–∏–π'
                    });
                }
                
                diseaseList.innerHTML = diseases.map(d => `
                    <div class="disease-item">
                        <strong>${d.name}</strong> (—Ä–∏—Å–∫: ${d.level})<br>
                        ${d.desc}
                    </div>
                `).join('');
            } else {
                diseaseWarning.style.display = 'none';
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã —Å –æ–ø–∞—Å–Ω—ã–º–∏ –∑–æ–Ω–∞–º–∏
            updateDangerZonesOnMap(levelNum);
        }
        
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –∑–æ–Ω –Ω–∞ –∫–∞—Ä—Ç–µ
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –∑–æ–Ω –Ω–∞ –∫–∞—Ä—Ç–µ
let dangerZoneCircles = [];
function updateDangerZonesOnMap(level) {
    // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∑–æ–Ω—ã
    dangerZoneCircles.forEach(circle => map.removeLayer(circle));
    dangerZoneCircles = [];
    
    if (level >= 50) {
        // –û–ø–∞—Å–Ω—ã–µ —Ä–∞–π–æ–Ω—ã –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–∞
        const dangerZones = [
            { 
                lat: 54.8656, 
                lng: 69.1433, 
                radius: 800, 
                name: '–ù–∞–±–µ—Ä–µ–∂–Ω–∞—è',
                diseases: {
                    gastroenterit: { cases: 45, ageGroups: { '0-5': 30, '6-18': 10, '19-65': 4, '65+': 1 }, gender: { male: 55, female: 45 } },
                    cholera: { cases: 12, ageGroups: { '0-5': 2, '6-18': 3, '19-65': 6, '65+': 1 }, gender: { male: 50, female: 50 } },
                    leptospiroz: { cases: 8, ageGroups: { '0-5': 0, '6-18': 2, '19-65': 5, '65+': 1 }, gender: { male: 65, female: 35 } }
                }
            },
            { 
                lat: 54.8600, 
                lng: 69.1350, 
                radius: 600, 
                name: '—É–ª. –ú–∏—Ä–∞',
                diseases: {
                    gastroenterit: { cases: 38, ageGroups: { '0-5': 25, '6-18': 8, '19-65': 4, '65+': 1 }, gender: { male: 52, female: 48 } },
                    respiratory: { cases: 15, ageGroups: { '0-5': 5, '6-18': 4, '19-65': 5, '65+': 1 }, gender: { male: 47, female: 53 } }
                }
            },
        ];
        
        if (level >= 70) {
            dangerZones.push(
                { 
                    lat: 54.8700, 
                    lng: 69.1500, 
                    radius: 700, 
                    name: '–º–∫—Ä. –Æ–∂–Ω—ã–π',
                    diseases: {
                        gastroenterit: { cases: 52, ageGroups: { '0-5': 35, '6-18': 12, '19-65': 4, '65+': 1 }, gender: { male: 54, female: 46 } },
                        cholera: { cases: 8, ageGroups: { '0-5': 1, '6-18': 2, '19-65': 4, '65+': 1 }, gender: { male: 50, female: 50 } },
                        skin_infection: { cases: 20, ageGroups: { '0-5': 8, '6-18': 6, '19-65': 5, '65+': 1 }, gender: { male: 60, female: 40 } }
                    }
                },
                { 
                    lat: 54.8580, 
                    lng: 69.1400, 
                    radius: 500, 
                    name: '–ø—Ä. –ê–±–∞—è',
                    diseases: {
                        gastroenterit: { cases: 28, ageGroups: { '0-5': 18, '6-18': 6, '19-65': 3, '65+': 1 }, gender: { male: 50, female: 50 } },
                        respiratory: { cases: 12, ageGroups: { '0-5': 4, '6-18': 3, '19-65': 4, '65+': 1 }, gender: { male: 45, female: 55 } }
                    }
                }
            );
        }
        
        const diseaseNames = {
            gastroenterit: '–ì–∞—Å—Ç—Ä–æ—ç–Ω—Ç–µ—Ä–∏—Ç',
            cholera: '–•–æ–ª–µ—Ä–∞',
            leptospiroz: '–õ–µ–ø—Ç–æ—Å–ø–∏—Ä–æ–∑',
            respiratory: '–†–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–Ω—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏',
            skin_infection: '–ö–æ–∂–Ω—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏'
        };
        
        dangerZones.forEach(zone => {
            const circle = L.circle([zone.lat, zone.lng], {
                color: '#F44336',
                fillColor: '#F44336',
                fillOpacity: 0.3,
                radius: zone.radius
            }).addTo(map);
            
            // –°–æ–∑–¥–∞–µ–º –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è—Ö
            let diseasesHTML = '';
            for (const [diseaseKey, data] of Object.entries(zone.diseases)) {
                const diseaseName = diseaseNames[diseaseKey];
                diseasesHTML += `
                    <div style="background: white; border-left: 4px solid #F44336; padding: 1rem; border-radius: 8px; margin: 0.75rem 0;">
                        <h4 style="margin: 0 0 0.75rem 0; color: #F44336; display: flex; align-items: center; gap: 0.5rem;">
                            ü¶† ${diseaseName}
                        </h4>
                        
                        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem; background: #FFF3E0; padding: 0.5rem; border-radius: 6px;">
                            <span style="font-size: 1.5rem;">üìä</span>
                            <div>
                                <strong style="color: #E65100;">–°–ª—É—á–∞–µ–≤:</strong>
                                <span style="font-size: 1.25rem; font-weight: 700; color: #F44336; margin-left: 0.5rem;">+${data.cases}</span>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 0.75rem;">
                            <strong style="display: block; margin-bottom: 0.5rem; color: #333;">üë• –î–µ–º–æ–≥—Ä–∞—Ñ–∏—è —Å–ª—É—á–∞–µ–≤:</strong>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; font-size: 0.9rem;">
                                <div style="background: #E3F2FD; padding: 0.5rem; border-radius: 6px;">
                                    <strong>0-5 –ª–µ—Ç</strong><br>
                                    ${data.ageGroups['0-5']} —Å–ª—É—á–∞–µ–≤
                                </div>
                                <div style="background: #E3F2FD; padding: 0.5rem; border-radius: 6px;">
                                    <strong>6-18 –ª–µ—Ç</strong><br>
                                    ${data.ageGroups['6-18']} —Å–ª—É—á–∞–µ–≤
                                </div>
                                <div style="background: #E3F2FD; padding: 0.5rem; border-radius: 6px;">
                                    <strong>19-65 –ª–µ—Ç</strong><br>
                                    ${data.ageGroups['19-65']} —Å–ª—É—á–∞–µ–≤
                                </div>
                                <div style="background: #E3F2FD; padding: 0.5rem; border-radius: 6px;">
                                    <strong>65+ –ª–µ—Ç</strong><br>
                                    ${data.ageGroups['65+']} —Å–ª—É—á–∞–µ–≤
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <strong style="display: block; margin-bottom: 0.5rem; color: #333;">‚ö• –ü–æ –ø–æ–ª—É:</strong>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; font-size: 0.9rem;">
                                <div style="background: #F3E5F5; padding: 0.5rem; border-radius: 6px;">
                                    <strong>‚ôÇ –ú—É–∂—á–∏–Ω—ã</strong><br>
                                    ${data.gender.male}%
                                </div>
                                <div style="background: #F3E5F5; padding: 0.5rem; border-radius: 6px;">
                                    <strong>‚ôÄ –ñ–µ–Ω—â–∏–Ω—ã</strong><br>
                                    ${data.gender.female}%
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            circle.bindPopup(`
                <div style="min-width: 320px; max-width: 400px; max-height: 500px; overflow-y: auto;">
                    <div style="position: sticky; top: 0; background: white; z-index: 10; padding-bottom: 0.5rem; border-bottom: 2px solid #F44336; margin-bottom: 0.75rem;">
                        <h3 style="color: #F44336; margin: 0; display: flex; align-items: center; gap: 0.5rem;">
                            ‚ö†Ô∏è –û–ü–ê–°–ù–ê–Ø –ó–û–ù–ê
                        </h3>
                        <p style="margin: 0.5rem 0 0 0; font-size: 1.1rem;"><strong>${zone.name}</strong></p>
                        <p style="margin: 0.25rem 0 0 0; font-size: 0.9rem; color: #666;">
                            –†–∞–¥–∏—É—Å –æ–ø–∞—Å–Ω–æ—Å—Ç–∏: ${zone.radius}–º
                        </p>
                    </div>
                    
                    <div style="background: #FFEBEE; border-left: 4px solid #F44336; padding: 0.75rem; border-radius: 6px; margin-bottom: 1rem;">
                        <strong style="color: #C62828;">üö® –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —ç–≤–∞–∫—É–∞—Ü–∏—è!</strong><br>
                        <span style="font-size: 0.9rem; color: #C62828;">–ü–æ–∫–∏–Ω—å—Ç–µ –∑–æ–Ω—É –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ. –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –∏–Ω—Ñ–µ–∫—Ü–∏–π!</span>
                    </div>
                    
                    <h4 style="margin: 1rem 0 0.5rem 0; color: #333; display: flex; align-items: center; gap: 0.5rem;">
                        üè• –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è:
                    </h4>
                    
                    ${diseasesHTML}
                    
                    <div style="background: #FFF3E0; border-left: 4px solid #FF9800; padding: 0.75rem; border-radius: 6px; margin-top: 1rem;">
                        <strong style="color: #E65100;">üìã –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:</strong>
                        <ul style="margin: 0.5rem 0 0 0; padding-left: 1.25rem; color: #E65100; font-size: 0.9rem;">
                            <li>–ü–µ–π—Ç–µ –¢–û–õ–¨–ö–û –∫–∏–ø—è—á—ë–Ω—É—é –≤–æ–¥—É</li>
                            <li>–ú–æ–π—Ç–µ —Ä—É–∫–∏ —Å –º—ã–ª–æ–º</li>
                            <li>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Ä–∞–Ω—ã –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫–æ–º</li>
                            <li>–ù–æ—Å–∏—Ç–µ —Ä–µ–∑–∏–Ω–æ–≤—ã–µ —Å–∞–ø–æ–≥–∏ –∏ –ø–µ—Ä—á–∞—Ç–∫–∏</li>
                            <li>–ü—Ä–∏ —Å–∏–º–ø—Ç–æ–º–∞—Ö - –∑–≤–æ–Ω–∏—Ç–µ 103!</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 1rem; text-align: center;">
                        <button onclick="alert('–ó–≤–æ–Ω–∏—Ç–µ 103 –ø—Ä–∏ —Å–∏–º–ø—Ç–æ–º–∞—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è!')" style="background: #F44336; color: white; padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; width: 100%;">
                            üìû –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å: 103
                        </button>
                    </div>
                </div>
            `, {
                maxWidth: 300,
                maxHeight: 200,
                className: 'danger-zone-popup'
            });
            
            dangerZoneCircles.push(circle);
        });
    }
}

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ AI —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Perplexity API
        async function generateAIResponse(question) {
            const lowerQuestion = question.toLowerCase();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∏–≥–Ω–∞–ª—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
            const dangerKeywords = ['–æ–ø–∞—Å–Ω–æ—Å—Ç—å', '—É–≥—Ä–æ–∑–∞', '–∑–∞—Ç–æ–ø–∏–ª–æ', '—Ç–æ–Ω—É', '–ø–æ–º–æ–≥–∏—Ç–µ', '—Å–ø–∞—Å–∏—Ç–µ', '—Å—Ä–æ—á–Ω–æ –ø–æ–º–æ—â—å', '—á—Å', '—á—Ä–µ–∑–≤—ã—á–∞–π–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è', '–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è', '–≤–æ–¥–∞ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è', '–Ω–µ –º–æ–≥—É –≤—ã–±—Ä–∞—Ç—å—Å—è'];
            const isDangerSignal = dangerKeywords.some(keyword => lowerQuestion.includes(keyword));
            
            if (isDangerSignal) {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                showEmergencyModal(question);
                return '–Ø –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª –≤–∞—à—É —ç–∫—Å—Ç—Ä–µ–Ω–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å –≤ –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –æ–∫–Ω–µ - –Ω—É–∂–Ω–æ –ª–∏ –≤—ã–∑–≤–∞—Ç—å —Å–ª—É–∂–±—ã —Å–ø–∞—Å–µ–Ω–∏—è?';
            }
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º Perplexity API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
            try {
                // ‚ö†Ô∏è –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –Ω–∏–∂–µ –Ω–∞ –≤–∞—à –Ω–∞—Å—Ç–æ—è—â–∏–π API –∫–ª—é—á –æ—Ç Perplexity
                // –ö–ª—é—á –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫: pplx-1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0
                const PERPLEXITY_API_KEY = '131144258';
                
                const response = await fetch('https://api.perplexity.ai/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${PERPLEXITY_API_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: 'llama-3.1-sonar-small-128k-online',
                        messages: [
                            {
                                role: 'system',
                                content: '–í—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è—Ö –∏ —á—Ä–µ–∑–≤—ã—á–∞–π–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ (–°–ö–û, –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫). –û—Ç–≤–µ—á–∞–π—Ç–µ –∫—Ä–∞—Ç–∫–æ, –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã –ø–æ: –¥–µ–π—Å—Ç–≤–∏—è–º –ø—Ä–∏ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏–∏, —ç–≤–∞–∫—É–∞—Ü–∏–∏, –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Ç—Ä–µ–≤–æ–∂–Ω–æ–≥–æ —Ä—é–∫–∑–∞–∫–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–µ–º—å–∏. –ü—Ä–∏ —É–≥—Ä–æ–∑–µ –∂–∏–∑–Ω–∏ –≤—Å–µ–≥–¥–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–π—Ç–µ –∑–≤–æ–Ω–∏—Ç—å 112.'
                            },
                            {
                                role: 'user',
                                content: question
                            }
                        ],
                        max_tokens: 500,
                        temperature: 0.2,
                        top_p: 0.9
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    return data.choices[0].message.content;
                }
            } catch (error) {
                console.error('Perplexity API error:', error);
            }
            
            // Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–µ API
            // –û—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
            if (lowerQuestion.includes('—á—Ç–æ –¥–µ–ª–∞—Ç—å') || lowerQuestion.includes('–∫–∞–∫ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å')) {
                return '–ü—Ä–∏ —É–≥—Ä–æ–∑–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ: 1) –°–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏ –ú–ß–° 2) –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç—Ä–µ–≤–æ–∂–Ω—ã–π —Ä—é–∫–∑–∞–∫ 3) –ó–Ω–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã —ç–≤–∞–∫—É–∞—Ü–∏–∏ 4) –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞ - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —ç–≤–∞–∫—É–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –≤–æ–∑–≤—ã—à–µ–Ω–Ω–æ—Å—Ç—å. –ó–≤–æ–Ω–∏—Ç–µ 112 –ø—Ä–∏ —É–≥—Ä–æ–∑–µ –∂–∏–∑–Ω–∏!';
            }
            
            if (lowerQuestion.includes('—Ä—é–∫–∑–∞–∫') || lowerQuestion.includes('–≤–∑—è—Ç—å') || lowerQuestion.includes('—Å–æ–±—Ä–∞—Ç—å')) {
                return '–í —Ç—Ä–µ–≤–æ–∂–Ω—ã–π —Ä—é–∫–∑–∞–∫ –ø–æ–ª–æ–∂–∏—Ç–µ: –¥–æ–∫—É–º–µ–Ω—Ç—ã (–≤ –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ–º –ø–∞–∫–µ—Ç–µ), –≤–æ–¥—É (2–ª –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞), –µ–¥—É (–∫–æ–Ω—Å–µ—Ä–≤—ã, —Å—É—Ö–∞—Ä–∏), —Ñ–æ–Ω–∞—Ä–∏–∫ —Å –±–∞—Ç–∞—Ä–µ–π–∫–∞–º–∏, –∞–ø—Ç–µ—á–∫—É, –≤–∞–∂–Ω—ã–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞, —Ç—ë–ø–ª—É—é –æ–¥–µ–∂–¥—É, —Ç–µ–ª–µ—Ñ–æ–Ω —Å –∑–∞—Ä—è–¥–∫–æ–π, —Å–≤–∏—Å—Ç–æ–∫. –†—é–∫–∑–∞–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤!';
            }
            
            if (lowerQuestion.includes('—ç–≤–∞–∫—É–∞—Ü–∏—è') || lowerQuestion.includes('–∫—É–¥–∞ –∏–¥—Ç–∏') || lowerQuestion.includes('–ø—É–Ω–∫—Ç')) {
                return '–ü—É–Ω–∫—Ç—ã –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≤ –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–µ: –®–∫–æ–ª–∞ ‚Ññ5 (—É–ª. –ê–±–∞—è, 120), –°–ø–æ—Ä—Ç–∫–æ–º–ø–ª–µ–∫—Å "“ö–∞–π—Ä–∞—Ç" (–ø—Ä. –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏, 56), –î–ö "–°—Ç—Ä–æ–∏—Ç–µ–ª—å" (—É–ª. –ú–∏—Ä–∞, 34). –ü—Ä–∏ —ç–≤–∞–∫—É–∞—Ü–∏–∏ –¥–≤–∏–≥–∞–π—Ç–µ—Å—å –∫ –±–ª–∏–∂–∞–π—à–µ–π –≤–æ–∑–≤—ã—à–µ–Ω–Ω–æ—Å—Ç–∏. –ù–µ –ø–µ—Ä–µ—Å–µ–∫–∞–π—Ç–µ –ø–æ—Ç–æ–∫–∏ –≤–æ–¥—ã!';
            }
            
            if (lowerQuestion.includes('–≤–æ–¥–∞') || lowerQuestion.includes('–ø–∏—Ç—å–µ–≤–∞—è')) {
                return '–ó–∞–ø–∞—Å –ø–∏—Ç—å–µ–≤–æ–π –≤–æ–¥—ã - –º–∏–Ω–∏–º—É–º 2 –ª–∏—Ç—Ä–∞ –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –¥–µ–Ω—å. –ü—Ä–∏ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏–∏ –≤–æ–¥–æ–ø—Ä–æ–≤–æ–¥–Ω–∞—è –≤–æ–¥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—É—Ç–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–æ–¥—É –∏–ª–∏ –∫–∏–ø—è—Ç–∏—Ç–µ –≤–æ–¥—É –º–∏–Ω–∏–º—É–º 1 –º–∏–Ω—É—Ç—É –ø–µ—Ä–µ–¥ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º.';
            }
            
            if (lowerQuestion.includes('—Ç–µ–ª–µ—Ñ–æ–Ω') || lowerQuestion.includes('—Å–≤—è–∑—å') || lowerQuestion.includes('112')) {
                return '–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞: 112 - –ú–ß–° (–≥–ª–∞–≤–Ω—ã–π –Ω–æ–º–µ—Ä –ø—Ä–∏ –ß–°), 103 - —Å–∫–æ—Ä–∞—è –ø–æ–º–æ—â—å, 102 - –ø–æ–ª–∏—Ü–∏—è. –ê–∫–∏–º–∞—Ç –°–ö–û: +7 (7152) 46-14-71. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–∏ –Ω–æ–º–µ—Ä–∞ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –∑–∞—Ä–∞–Ω–µ–µ. –ü—Ä–∏ —É–≥—Ä–æ–∑–µ –∂–∏–∑–Ω–∏ –∑–≤–æ–Ω–∏—Ç–µ 112!';
            }
            
            if (lowerQuestion.includes('–∂–∏–≤–æ—Ç–Ω') || lowerQuestion.includes('–ø–∏—Ç–æ–º—Ü') || lowerQuestion.includes('—Å–æ–±–∞–∫') || lowerQuestion.includes('–∫–æ—à–∫')) {
                return '–ü—Ä–∏ —ç–≤–∞–∫—É–∞—Ü–∏–∏ –≤–æ–∑—å–º–∏—Ç–µ –ø–∏—Ç–æ–º—Ü–µ–≤ —Å —Å–æ–±–æ–π! –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –¥–ª—è –Ω–∏—Ö: –ø–µ—Ä–µ–Ω–æ—Å–∫—É, –ø–æ–≤–æ–¥–æ–∫, –∫–æ—Ä–º –Ω–∞ 3-5 –¥–Ω–µ–π, –≤–æ–¥—É, –º–∏—Å–∫–∏, –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å), –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã–π –ø–∞—Å–ø–æ—Ä—Ç. –í –ø—É–Ω–∫—Ç–∞—Ö —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ã—á–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏.';
            }
            
            if (lowerQuestion.includes('—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ') || lowerQuestion.includes('–≥–∞–∑') || lowerQuestion.includes('–æ—Ç–∫–ª—é—á–∏—Ç—å')) {
                return '–ü–µ—Ä–µ–¥ —ç–≤–∞–∫—É–∞—Ü–∏–µ–π –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ—Ç–∫–ª—é—á–∏—Ç–µ: —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ (–∞–≤—Ç–æ–º–∞—Ç—ã –≤ —â–∏—Ç–∫–µ), –≥–∞–∑ (–ø–µ—Ä–µ–∫—Ä–æ–π—Ç–µ –≤–µ–Ω—Ç–∏–ª—å), –≤–æ–¥—É (–∑–∞–∫—Ä–æ–π—Ç–µ –∫—Ä–∞–Ω—ã). –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –ø–æ–∂–∞—Ä—ã –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –∑–∞—Ç–æ–ø–ª–µ–Ω–∏–∏.';
            }
            
            if (lowerQuestion.includes('–¥–µ—Ç–∏') || lowerQuestion.includes('—Ä–µ–±–µ–Ω–æ–∫') || lowerQuestion.includes('—Å–µ–º—å—è')) {
                return '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ–º—å–∏: 1) –û–±—ä—è—Å–Ω–∏—Ç–µ –¥–µ—Ç—è–º –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ 2) –ü—Ä–æ–≤–µ–¥–∏—Ç–µ —É—á–µ–±–Ω—É—é —ç–≤–∞–∫—É–∞—Ü–∏—é 3) –ù–∞–∑–Ω–∞—á—å—Ç–µ –º–µ—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∏ 4) –ù–∞—É—á–∏—Ç–µ –¥–µ—Ç–µ–π –∑–≤–æ–Ω–∏—Ç—å 112 5) –î–ª—è –º–ª–∞–¥–µ–Ω—Ü–µ–≤: –ø–∞–º–ø–µ—Ä—Å—ã, –¥–µ—Ç—Å–∫–æ–µ –ø–∏—Ç–∞–Ω–∏–µ, –ª–µ–∫–∞—Ä—Å—Ç–≤–∞. –ù–µ –ø–∞–Ω–∏–∫—É–π—Ç–µ - –¥–µ—Ç–∏ —á—É–≤—Å—Ç–≤—É—é—Ç –≤–∞—à–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ!';
            }
            
            if (lowerQuestion.includes('–ø–æ—Å–ª–µ') || lowerQuestion.includes('–≤–µ—Ä–Ω—É—Ç—å—Å—è') || lowerQuestion.includes('–≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ')) {
                return '–ü–æ—Å–ª–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è: 1) –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–ª–∞—Å—Ç–µ–π 2) –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–º –Ω–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –∏ —Ç—Ä–µ—â–∏–Ω—ã 3) –ù–ï –≤–∫–ª—é—á–∞–π—Ç–µ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ 4) –û—á–∏—â–∞–π—Ç–µ –≤–æ–¥—É –ø–µ—Ä–µ–¥ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º 5) –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏ 6) –û—Å—Ç–µ—Ä–µ–≥–∞–π—Ç–µ—Å—å –∑–º–µ–π –∏ –Ω–∞—Å–µ–∫–æ–º—ã—Ö.';
            }
            
            if (lowerQuestion.includes('–ø–æ–º–æ—â—å') || lowerQuestion.includes('–≤–æ–ª–æ–Ω—Ç–µ—Ä') || lowerQuestion.includes('–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è')) {
                return '–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª "üìù –ó–∞–ø—Ä–æ—Å –ø–æ–º–æ—â–∏" - —É–∫–∞–∂–∏—Ç–µ —Ç–∏–ø –ø–æ–º–æ—â–∏, –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏ –∞–¥—Ä–µ—Å. –í–∞—à –∑–∞–ø—Ä–æ—Å —É–≤–∏–¥—è—Ç –≤–æ–ª–æ–Ω—Ç—ë—Ä—ã –∏ —Å–ª—É–∂–±—ã. –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –ü—Ä–∏ —É–≥—Ä–æ–∑–µ –∂–∏–∑–Ω–∏ –∑–≤–æ–Ω–∏—Ç–µ 112!';
            }
            
            if (lowerQuestion.includes('–¥–æ–∫—É–º–µ–Ω—Ç') || lowerQuestion.includes('–ø–∞—Å–ø–æ—Ä—Ç') || lowerQuestion.includes('–±—É–º–∞–≥–∏')) {
                return '–í–∞–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–µ—Ä–∂–∏—Ç–µ –≤ –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ–º –ø–∞–∫–µ—Ç–µ: –ø–∞—Å–ø–æ—Ä—Ç–∞ –≤—Å–µ—Ö —á–ª–µ–Ω–æ–≤ —Å–µ–º—å–∏, —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏, –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –ø–æ–ª–∏—Å—ã, –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã, –Ω–µ–º–Ω–æ–≥–æ –Ω–∞–ª–∏—á–Ω—ã—Ö. –°–¥–µ–ª–∞–π—Ç–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –∫–æ–ø–∏–∏ –∏ —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –æ–±–ª–∞–∫–µ!';
            }
            
            if (lowerQuestion.includes('—Å–∏–≥–Ω–∞–ª') || lowerQuestion.includes('—Å–∏—Ä–µ–Ω–∞') || lowerQuestion.includes('–æ–ø–æ–≤–µ—â–µ–Ω–∏–µ')) {
                return '–°–∏–≥–Ω–∞–ª—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏: 1) –°–∏—Ä–µ–Ω–∞ (–¥–ª–∏–Ω–Ω—ã–π –ø—Ä–µ—Ä—ã–≤–∏—Å—Ç—ã–π –∑–≤—É–∫) 2) Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ FloodHelp 3) SMS –æ—Ç –ú–ß–° 4) –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ —Ä–∞–¥–∏–æ/–¢–í. –ü—Ä–∏ —Å–∏–≥–Ω–∞–ª–µ —ç–≤–∞–∫—É–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤—É–π—Ç–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ! –ù–µ –∂–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É–∫–∞–∑–∞–Ω–∏–π.';
            }
            
            if (lowerQuestion.includes('–∞–ø—Ç–µ—á–∫–∞') || lowerQuestion.includes('–ª–µ–∫–∞—Ä—Å—Ç–≤–∞') || lowerQuestion.includes('–º–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã')) {
                return '–ê–ø—Ç–µ—á–∫–∞ –ø–µ—Ä–≤–æ–π –ø–æ–º–æ—â–∏ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å: –±–∏–Ω—Ç—ã, –ø–ª–∞—Å—Ç—ã—Ä–∏, –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫, –æ–±–µ–∑–±–æ–ª–∏–≤–∞—é—â–µ–µ, –∂–∞—Ä–æ–ø–æ–Ω–∏–∂–∞—é—â–µ–µ, –ø—Ä–æ—Ç–∏–≤–æ–∞–ª–ª–µ—Ä–≥–∏—á–µ—Å–∫–æ–µ, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É–≥–æ–ª—å, –π–æ–¥, –ø–µ—Ä–µ–∫–∏—Å—å –≤–æ–¥–æ—Ä–æ–¥–∞, –Ω–æ–∂–Ω–∏—Ü—ã, –ø–∏–Ω—Ü–µ—Ç. –ï—Å–ª–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ - –≤–æ–∑—å–º–∏—Ç–µ –∑–∞–ø–∞—Å –Ω–∞ –Ω–µ–¥–µ–ª—é!';
            }
            
            if (lowerQuestion.includes('–ø—Ä–æ–≥–Ω–æ–∑') || lowerQuestion.includes('–ø–æ–≥–æ–¥–∞') || lowerQuestion.includes('–∫–æ–≥–¥–∞')) {
                return '–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞–º–∏ –Ω–∞ —Å–∞–π—Ç–µ –ö–∞–∑–≥–∏–¥—Ä–æ–º–µ—Ç –∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –ø–æ–≥–æ–¥—ã. –ù–∞–≤–æ–¥–Ω–µ–Ω–∏—è –≤ –°–ö–û —á–∞—â–µ –≤—Å–µ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤–µ—Å–Ω–æ–π (–º–∞—Ä—Ç-–∞–ø—Ä–µ–ª—å) –ø—Ä–∏ —Ç–∞—è–Ω–∏–∏ —Å–Ω–µ–≥–∞ –∏ –æ—Å–µ–Ω—å—é –ø—Ä–∏ –∑–∞—Ç—è–∂–Ω—ã—Ö –¥–æ–∂–¥—è—Ö. –ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ú–ß–° –∏ FloodHelp!';
            }
            
            if (lowerQuestion.includes('–±–æ–ª–µ–∑–Ω') || lowerQuestion.includes('–∏–Ω—Ñ–µ–∫—Ü') || lowerQuestion.includes('–∑–¥–æ—Ä–æ–≤—å–µ') || lowerQuestion.includes('–≤–∏—Ä—É—Å')) {
                return '–ü–æ—Å–ª–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è –≥–ª–∞–≤–Ω—ã–µ —É–≥—Ä–æ–∑—ã: –∫–∏—à–µ—á–Ω—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏ (–ø–µ–π—Ç–µ –¢–û–õ–¨–ö–û –∫–∏–ø—è—á—ë–Ω—É—é –≤–æ–¥—É!), –∫–æ–∂–Ω—ã–µ –∏–Ω—Ñ–µ–∫—Ü–∏–∏ (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Ä–∞–Ω—ã –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫–æ–º), –ª–µ–ø—Ç–æ—Å–ø–∏—Ä–æ–∑ (–∏–∑–±–µ–≥–∞–π—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –≤–æ–¥–æ–π –±–µ–∑ –∑–∞—â–∏—Ç—ã), –º–∞–ª—è—Ä–∏—è –æ—Ç –∫–æ–º–∞—Ä–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–ø–µ–ª–ª–µ–Ω—Ç—ã). –ü—Ä–∏ –¥–∏–∞—Ä–µ–µ, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –∏–ª–∏ —Å—ã–ø–∏ - –∑–≤–æ–Ω–∏—Ç–µ 103!';
            }
            
            if (lowerQuestion.includes('–≤–æ–¥–∞ –ø–∏—Ç—å') || lowerQuestion.includes('–º–æ–∂–Ω–æ –ø–∏—Ç—å') || lowerQuestion.includes('–∑–∞–≥—Ä—è–∑–Ω')) {
                return '–ù–ï–¢! –í–æ–¥—É –ø–æ—Å–ª–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è –ø–∏—Ç—å –Ω–µ–ª—å–∑—è! –û–Ω–∞ –∑–∞—Ä–∞–∂–µ–Ω–∞ –±–∞–∫—Ç–µ—Ä–∏—è–º–∏. –ü–µ–π—Ç–µ –¢–û–õ–¨–ö–û: 1) –ë—É—Ç–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–æ–¥—É 2) –ö–∏–ø—è—á—ë–Ω—É—é –≤–æ–¥—É (–º–∏–Ω–∏–º—É–º 1 –º–∏–Ω—É—Ç–∞ –∫–∏–ø–µ–Ω–∏—è) 3) –í–æ–¥—É, –æ—á–∏—â–µ–Ω–Ω—É—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ç–∞–±–ª–µ—Ç–∫–∞–º–∏. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–∏—à–µ—á–Ω—ã—Ö –∏–Ω—Ñ–µ–∫—Ü–∏–π!';
            }
            
            if (lowerQuestion.includes('–¥–∏–∞—Ä–µ—è') || lowerQuestion.includes('–ø–æ–Ω–æ—Å') || lowerQuestion.includes('–∂–∏–≤–æ—Ç')) {
                return '–ü—Ä–∏ –¥–∏–∞—Ä–µ–µ: 1) –ü–µ–π—Ç–µ –ú–ù–û–ì–û —á–∏—Å—Ç–æ–π –≤–æ–¥—ã –¥–ª—è —Ä–µ–≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏! 2) –†–∞—Å—Ç–≤–æ—Ä: 1–ª –∫–∏–ø—è—á—ë–Ω–æ–π –≤–æ–¥—ã + 6 —á.–ª. —Å–∞—Ö–∞—Ä–∞ + 0.5 —á.–ª. —Å–æ–ª–∏ 3) –ï—à—å—Ç–µ —Ä–∏—Å, –±–∞–Ω–∞–Ω—ã, —Å—É—Ö–∞—Ä–∏ 4) –ò–∑–±–µ–≥–∞–π—Ç–µ –º–æ–ª–æ–∫–∞ 5) –ï—Å–ª–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç 24 —á–∞—Å–∞ –∏–ª–∏ –µ—Å—Ç—å –∫—Ä–æ–≤—å - –°–†–û–ß–ù–û –∫ –≤—Ä–∞—á—É! –ó–≤–æ–Ω–∏—Ç–µ 103. –û–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏–µ –æ–ø–∞—Å–Ω–æ!';
            }
            
            if (lowerQuestion.includes('–∫–æ–º–∞—Ä') || lowerQuestion.includes('–Ω–∞—Å–µ–∫–æ–º') || lowerQuestion.includes('—É–∫—É—Å')) {
                return '–ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–º–∞—Ä–æ–≤ –ø–æ—Å–ª–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–Ω–∞! –û–Ω–∏ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç –º–∞–ª—è—Ä–∏—é –∏ —ç–Ω—Ü–µ—Ñ–∞–ª–∏—Ç. 1) –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–ø–µ–ª–ª–µ–Ω—Ç—ã 2) –°–ø–∏—Ç–µ –ø–æ–¥ –º–æ—Å–∫–∏—Ç–Ω–æ–π —Å–µ—Ç–∫–æ–π 3) –ù–æ—Å–∏—Ç–µ –¥–ª–∏–Ω–Ω—ã–µ —Ä—É–∫–∞–≤–∞ –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ/–∑–∞–∫–∞—Ç–µ 4) –£—Å—Ç—Ä–∞–Ω—è–π—Ç–µ —Å—Ç–æ—è—á—É—é –≤–æ–¥—É –≤–æ–∑–ª–µ –¥–æ–º–∞ 5) –ü—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –ø–æ—Å–ª–µ —É–∫—É—Å–∞ - –∫ –≤—Ä–∞—á—É!';
            }
            
            if (lowerQuestion.includes('–ø–ª–µ—Å–µ–Ω—å') || lowerQuestion.includes('–≥—Ä–∏–±–æ–∫') || lowerQuestion.includes('—Å—ã—Ä–æ—Å—Ç—å')) {
                return '–ü–ª–µ—Å–µ–Ω—å –ø–æ—Å–ª–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è –æ–ø–∞—Å–Ω–∞ –¥–ª—è –ª—ë–≥–∫–∏—Ö! 1) –£–¥–∞–ª—è–π—Ç–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞—Å—Ç–≤–æ—Ä–æ–º —Ö–ª–æ—Ä–∫–∏ (1:10 —Å –≤–æ–¥–æ–π) 2) –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –Ω–æ—Å–∏—Ç–µ –º–∞—Å–∫—É –ø—Ä–∏ —É–±–æ—Ä–∫–µ 3) –ü—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–π—Ç–µ –ø–æ–º–µ—â–µ–Ω–∏—è 4) –í—ã–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ —Å–∏–ª—å–Ω–æ –ø–æ—Ä–∞–∂—ë–Ω–Ω—ã–µ –≤–µ—â–∏ 5) –î–µ—Ä–∂–∏—Ç–µ –ø–æ–º–µ—â–µ–Ω–∏—è —Å—É—Ö–∏–º–∏. –ü—Ä–∏ –∫–∞—à–ª–µ –∏–ª–∏ –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–∏–∏ –¥—ã—Ö–∞–Ω–∏—è - –∑–≤–æ–Ω–∏—Ç–µ 103!';
            }
            
            if (lowerQuestion.includes('—Ä–∞–Ω–∞') || lowerQuestion.includes('–ø–æ—Ä–µ–∑') || lowerQuestion.includes('—Ü–∞—Ä–∞–ø–∏–Ω–∞')) {
                return '–õ—é–±–∞—è —Ä–∞–Ω–∞ –ø–æ—Å–ª–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –≤–æ–¥–æ–π –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è –æ–ø–∞—Å–Ω–∞! 1) –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–æ–º–æ–π—Ç–µ —á–∏—Å—Ç–æ–π –≤–æ–¥–æ–π 2) –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫–æ–º (–π–æ–¥, –ø–µ—Ä–µ–∫–∏—Å—å) 3) –ó–∞–∫—Ä–æ–π—Ç–µ —á–∏—Å—Ç–æ–π –ø–æ–≤—è–∑–∫–æ–π 4) –ú–µ–Ω—è–π—Ç–µ –ø–æ–≤—è–∑–∫—É 2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å 5) –ü—Ä–∏ –ø–æ–∫—Ä–∞—Å–Ω–µ–Ω–∏–∏, –æ—Ç—ë–∫–µ, –≥–Ω–æ–µ - —Å—Ä–æ—á–Ω–æ –∫ –≤—Ä–∞—á—É! –ó–≤–æ–Ω–∏—Ç–µ 103. –†–∏—Å–∫ –∑–∞—Ä–∞–∂–µ–Ω–∏—è –æ—á–µ–Ω—å –≤—ã—Å–æ–∫!';
            }
            
            if (lowerQuestion.includes('–º—ã—Ç—å —Ä—É–∫–∏') || lowerQuestion.includes('–≥–∏–≥–∏–µ–Ω–∞') || lowerQuestion.includes('—Å–∞–Ω–∏—Ç–∞—Ä–∏—è')) {
                return '–ì–∏–≥–∏–µ–Ω–∞ —Ä—É–∫ –ø–æ—Å–ª–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è - –≤–∞—à–∞ –≥–ª–∞–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞! –ú–æ–π—Ç–µ —Ä—É–∫–∏ —Å –º—ã–ª–æ–º: 1) –ü–µ—Ä–µ–¥ –µ–¥–æ–π 2) –ü–æ—Å–ª–µ —Ç—É–∞–ª–µ—Ç–∞ 3) –ü–æ—Å–ª–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –≤–æ–¥–æ–π 4) –ü–æ—Å–ª–µ —É–±–æ—Ä–∫–∏ 5) –ü–µ—Ä–µ–¥ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ–º –ø–∏—â–∏. –ï—Å–ª–∏ –Ω–µ—Ç –≤–æ–¥—ã - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω—Ç–∏–±–∞–∫—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–π –≥–µ–ª—å. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç 80% –∫–∏—à–µ—á–Ω—ã—Ö –∏–Ω—Ñ–µ–∫—Ü–∏–π!';
            }
            
            if (lowerQuestion.includes('—Å–∏–º–ø—Ç–æ–º') || lowerQuestion.includes('–ø—Ä–∏–∑–Ω–∞–∫') || lowerQuestion.includes('–∫–æ–≥–¥–∞ –∫ –≤—Ä–∞—á—É')) {
                return '–°–†–û–ß–ù–û –ö –í–†–ê–ß–£ (–∑–≤–æ–Ω–∏—Ç–µ 103) –ø—Ä–∏: 1) –î–∏–∞—Ä–µ—è –±–æ–ª–µ–µ 24 —á–∞—Å–æ–≤ 2) –í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (38.5+) 3) –†–≤–æ—Ç–∞, –Ω–µ –ø—Ä–µ–∫—Ä–∞—â–∞—é—â–∞—è—Å—è 4) –°—ã–ø—å –Ω–∞ –∫–æ–∂–µ 5) –ñ–µ–ª—Ç—É—Ö–∞ (–ø–æ–∂–µ–ª—Ç–µ–Ω–∏–µ –∫–æ–∂–∏/–≥–ª–∞–∑) 6) –°–∏–ª—å–Ω–∞—è —Å–ª–∞–±–æ—Å—Ç—å 7) –ö—Ä–æ–≤—å –≤ —Å—Ç—É–ª–µ. –ù–µ –∂–¥–∏—Ç–µ! –ò–Ω—Ñ–µ–∫—Ü–∏–∏ —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–æ!';
            }
            
            if (lowerQuestion.includes('–¥–µ–∑–∏–Ω—Ñ–µ–∫—Ü') || lowerQuestion.includes('–æ—á–∏—Å—Ç–∫–∞') || lowerQuestion.includes('—É–±–æ—Ä–∫–∞')) {
                return '–î–µ–∑–∏–Ω—Ñ–µ–∫—Ü–∏—è –ø–æ—Å–ª–µ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è: 1) –•–ª–æ—Ä–Ω—ã–π —Ä–∞—Å—Ç–≤–æ—Ä (1 —Å—Ç–∞–∫–∞–Ω —Ö–ª–æ—Ä–∫–∏ –Ω–∞ 5–ª –≤–æ–¥—ã) 2) –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –≤—Å–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ 3) –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –Ω–æ—Å–∏—Ç–µ –ø–µ—Ä—á–∞—Ç–∫–∏ –∏ –º–∞—Å–∫—É 4) –ü—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–π—Ç–µ 5) –í—ã–±—Ä–æ—Å—å—Ç–µ –º—è–≥–∫—É—é –º–µ–±–µ–ª—å, –∫–æ–≤—Ä—ã, –º–∞—Ç—Ä–∞—Å—ã - –∏—Ö –Ω–µ–ª—å–∑—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç—å. –ó–∞—Ç–æ–ø–ª–µ–Ω–Ω–∞—è –µ–¥–∞ - –≤ –º—É—Å–æ—Ä!';
            }
            
            // –û–±—â–∏–π –æ—Ç–≤–µ—Ç
            return '–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å! –î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∏–∑—É—á–∏—Ç—å —É—Ä–æ–∫–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "üìö –û–±—É—á–µ–Ω–∏–µ", –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–æ–≤—ã–π —É—Ä–æ–∫ –æ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–º—É–ª—è—Ü–∏—é –∑–∞—Ç–æ–ø–ª–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–∏—Å–∫–æ–≤. –ü—Ä–∏ —É–≥—Ä–æ–∑–µ –∂–∏–∑–Ω–∏ –∑–≤–æ–Ω–∏—Ç–µ 112, –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å–æ –∑–¥–æ—Ä–æ–≤—å–µ–º - 103!';
        }

        // –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        function showEmergencyModal(userMessage) {
            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.style.zIndex = '3000';
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 500px; background: #FFF3E0; border: 3px solid #F44336;">
                    <div class="modal-header" style="border-bottom: 2px solid #F44336;">
                        <h3 style="color: #F44336; display: flex; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 2rem;">üö®</span>
                            –≠–ö–°–¢–†–ï–ù–ù–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø
                        </h3>
                    </div>
                    <div style="padding: 1.5rem 0;">
                        <p style="font-size: 1.1rem; font-weight: 600; color: #E65100; margin-bottom: 1rem;">
                            –°–∏—Å—Ç–µ–º–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∞ —Å–∏–≥–Ω–∞–ª –æ–ø–∞—Å–Ω–æ—Å—Ç–∏!
                        </p>
                        <p style="margin-bottom: 1rem; color: #333;">
                            –í—ã —Å–æ–æ–±—â–∏–ª–∏: "<em>${userMessage}</em>"
                        </p>
                        <div style="background: white; padding: 1rem; border-radius: 8px; border-left: 4px solid #F44336; margin-bottom: 1.5rem;">
                            <strong style="color: #F44336;">‚ö†Ô∏è –í–∞–º –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Å–ª—É–∂–±—ã —Å–ø–∞—Å–µ–Ω–∏—è?</strong>
                            <p style="margin: 0.5rem 0 0 0; color: #666;">
                                –ï—Å–ª–∏ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –ø–æ–∑–≤–æ–Ω–∏—Ç—å, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç –≤–∞—à—É –ª–æ–∫–∞—Ü–∏—é –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ú–ß–°.
                            </p>
                        </div>
                        <div style="display: flex; gap: 1rem;">
                            <button onclick="callEmergencyServices('${userMessage}')" class="btn btn-danger" style="flex: 1; background: #F44336; padding: 1rem; font-size: 1.1rem;">
                                üö® –î–ê, –í–´–ó–í–ê–¢–¨ 112
                            </button>
                            <button onclick="declineEmergencyCall()" class="btn btn-success" style="flex: 1; background: #4CAF50; padding: 1rem; font-size: 1.1rem;">
                                ‚úì –ù–ï–¢, –Ø –í –ü–û–†–Ø–î–ö–ï
                            </button>
                        </div>
                        <p style="margin-top: 1rem; font-size: 0.9rem; color: #666; text-align: center;">
                            –ï—Å–ª–∏ –≤—ã –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ - –Ω–∞–∂–º–∏—Ç–µ "–î–ê, –í–´–ó–í–ê–¢–¨ 112"
                        </p>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // –í—ã–∑–æ–≤ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É–∂–±
        function callEmergencyServices(userMessage) {
            // –ü–æ–ª—É—á–∞–µ–º –ª–æ–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–ª—è –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–∞)
            const userLat = 54.8656;
            const userLng = 69.1433;
            
            // –°–æ–∑–¥–∞—ë–º —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
            const emergencyRequest = {
                id: requests.length + 1,
                type: 'evacuation',
                name: '–≠–ö–°–¢–†–ï–ù–ù–´–ô –í–´–ó–û–í (AI Chat)',
                phone: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É',
                address: `–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ${userLat.toFixed(5)}, ${userLng.toFixed(5)}`,
                details: `–≠–ö–°–¢–†–ï–ù–ù–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª: "${userMessage}". –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å –ú–ß–°!`,
                people: 1,
                status: 'pending',
                verified: false,
                photoProof: null,
                lat: userLat,
                lng: userLng,
                timestamp: new Date(),
                emergency: true
            };
            
            requests.unshift(emergencyRequest); // –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞—Ä—Ç—É
            updateMap();
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            document.querySelectorAll('.modal').forEach(m => m.remove());
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
            const confirmationModal = document.createElement('div');
            confirmationModal.className = 'modal active';
            confirmationModal.style.zIndex = '3000';
            confirmationModal.innerHTML = `
                <div class="modal-content" style="max-width: 500px; background: #E8F5E9; border: 3px solid #4CAF50;">
                    <div style="text-align: center; padding: 2rem;">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">‚úì</div>
                        <h3 style="color: #2E7D32; margin-bottom: 1rem;">–í—ã–∑–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 1rem;">
                            –í–∞—à–∞ –ª–æ–∫–∞—Ü–∏—è –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Ç—É–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –ú–ß–° –∏ –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞–º.
                        </p>
                        <div style="background: white; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                            <p style="margin: 0; color: #333;">
                                üìç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ${userLat.toFixed(5)}, ${userLng.toFixed(5)}
                            </p>
                            <p style="margin: 0.5rem 0 0 0; color: #333;">
                                üìù –ü—Ä–∏—á–∏–Ω–∞: ${userMessage}
                            </p>
                        </div>
                        <p style="color: #2E7D32; font-weight: 600; margin-bottom: 1rem;">
                            –ü–æ–º–æ—â—å —É–∂–µ –≤ –ø—É—Ç–∏! –û—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å –Ω–∞ –º–µ—Å—Ç–µ.
                        </p>
                        <p style="font-size: 0.9rem; color: #666; margin-bottom: 1.5rem;">
                            –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–∑–≤–æ–Ω–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é –ø–æ –Ω–æ–º–µ—Ä—É <strong>112</strong>
                        </p>
                        <button onclick="this.closest('.modal').remove()" class="btn btn-success" style="width: 100%; padding: 1rem;">
                            –ü–æ–Ω—è—Ç–Ω–æ
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(confirmationModal);
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
            addChatMessage('‚úì –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –í–∞—à–∞ –ª–æ–∫–∞—Ü–∏—è –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –ú–ß–°. –ü–æ–º–æ—â—å —É–∂–µ –≤ –ø—É—Ç–∏. –û—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å –Ω–∞ —Å–≤—è–∑–∏!', 'ai');
        }

        // –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
        function declineEmergencyCall() {
            document.querySelectorAll('.modal').forEach(m => m.remove());
            addChatMessage('–ü–æ–Ω—è–ª. –ï—Å–ª–∏ —Å–∏—Ç—É–∞—Ü–∏—è –∏–∑–º–µ–Ω–∏—Ç—Å—è –∏–ª–∏ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–º–æ—â—å - —Å—Ä–∞–∑—É —Å–æ–æ–±—â–∏—Ç–µ! –ü—Ä–∏ —É–≥—Ä–æ–∑–µ –∂–∏–∑–Ω–∏ –∑–≤–æ–Ω–∏—Ç–µ 112.', 'ai');
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –≤ —á–∞—Ç–µ
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendChatMessage();
                    }
                });
            }
        });

        // –ú–∞—Ä–∫–µ—Ä –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∫–∞—Ä—Ç—ã –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤
        let volunteerUserLocationMarker = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤
        function initVolunteerMap() {
            if (!volunteerMap) {
                volunteerMap = L.map('volunteer-map').setView([54.8656, 69.1433], 12);
                
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '¬© OpenStreetMap contributors'
                }).addTo(volunteerMap);

                // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –∫–∞—Ä—Ç—É –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤
                updateVolunteerUserLocation();
            }
            
            setTimeout(() => volunteerMap.invalidateSize(), 100);
            updateVolunteerMap();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –∫–∞—Ä—Ç–µ –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤
        function updateVolunteerUserLocation() {
            if (!volunteerMap) return;

            // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–∞
            const userLat = 54.8656;
            const userLng = 69.1433;

            const userIcon = L.divIcon({
                html: `<div style="position: relative;">
                    <div style="background: #4CAF50; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.3);"></div>
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 40px; height: 40px; border-radius: 50%; background: rgba(76, 175, 80, 0.2); animation: pulse 2s infinite;"></div>
                </div>`,
                className: '',
                iconSize: [40, 40]
            });

            if (volunteerUserLocationMarker) {
                volunteerMap.removeLayer(volunteerUserLocationMarker);
            }

            volunteerUserLocationMarker = L.marker([userLat, userLng], { icon: userIcon }).addTo(volunteerMap);
            volunteerUserLocationMarker.bindPopup(`
                <div style="text-align: center;">
                    <h4 style="margin: 0 0 0.5rem 0; color: #4CAF50;">üìç –í—ã –∑–¥–µ—Å—å</h4>
                    <p style="margin: 0; font-size: 0.9rem;">–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫, –°–ö–û</p>
                </div>
            `);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤
        function updateVolunteerMap() {
            if (!volunteerMap) return;
            
            volunteerMarkers.forEach(marker => volunteerMap.removeLayer(marker));
            volunteerMarkers = [];

            const typeIcons = {
                water: 'üíß',
                food: 'üçû',
                medical: 'üíä',
                evacuation: 'üö®',
                shelter: 'üè†'
            };

            const typeColors = {
                water: '#2196F3',
                food: '#FF9800',
                medical: '#9C27B0',
                evacuation: '#F44336',
                shelter: '#4CAF50'
            };

            requests.filter(r => r.status === 'pending').forEach(request => {
                const icon = L.divIcon({
                    html: `<div style="background: ${typeColors[request.type]}; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">${typeIcons[request.type]}</div>`,
                    className: '',
                    iconSize: [40, 40]
                });

                const marker = L.marker([request.lat, request.lng], { icon }).addTo(volunteerMap);
                
                marker.bindPopup(`
                    <div style="min-width: 220px;">
                        <h4 style="margin: 0 0 0.75rem 0; color: ${typeColors[request.type]};">${typeIcons[request.type]} ${getTypeName(request.type)}</h4>
                        <p style="margin: 0.25rem 0;"><strong>–ò–º—è:</strong> ${request.name}</p>
                        <p style="margin: 0.25rem 0;"><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${request.phone}</p>
                        <p style="margin: 0.25rem 0;"><strong>–ê–¥—Ä–µ—Å:</strong> ${request.address}</p>
                        <p style="margin: 0.25rem 0;"><strong>–õ—é–¥–µ–π:</strong> ${request.people}</p>
                        <p style="margin: 0.5rem 0; color: #666; font-size: 0.9rem;">${request.details}</p>
                        <button class="respond-btn" onclick="respondToRequest(${request.id})">‚úì –û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è</button>
                    </div>
                `);
                
                volunteerMarkers.push(marker);
            });
        }

        // –û—Ç–∫–ª–∏–∫ –Ω–∞ –∑–∞–ø—Ä–æ—Å
        function respondToRequest(requestId) {
            const request = requests.find(r => r.id === requestId);
            if (request && request.status === 'pending') {
                request.status = 'in-progress';
                alert(`‚úì –û—Ç–ª–∏—á–Ω–æ! –í—ã –≤–∑—è–ª–∏ –≤ —Ä–∞–±–æ—Ç—É –∑–∞–ø—Ä–æ—Å –æ—Ç ${request.name}. –°–≤—è–∂–∏—Ç–µ—Å—å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É ${request.phone}`);
                updateVolunteerMap();
                updateVolunteerStats();
                updateMap();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∏—Ö –≥—Ä—É–ø–ø
        function updateVolunteerGroups() {
            const listElement = document.getElementById('volunteer-groups-list');
            
            if (volunteerGroups.length === 0) {
                listElement.innerHTML = '<p style="text-align: center; color: #999; padding: 2rem;">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–ø–ø</p>';
                return;
            }

            listElement.innerHTML = volunteerGroups.map(group => `
                <div class="volunteer-group">
                    <div class="group-header">
                        <div class="group-name">${group.name}</div>
                        <div class="group-badge">${group.members} –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤</div>
                    </div>
                    <div class="group-info">
                        <p><strong>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä:</strong> ${group.leader}</p>
                        <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${group.phone}</p>
                        <p><strong>–†–∞–π–æ–Ω:</strong> ${group.area}</p>
                        <p><strong>–†–µ—Å—É—Ä—Å—ã:</strong> ${group.resources}</p>
                    </div>
                    <button class="group-chat-btn" onclick="openGroupChat(${group.id})">
                        üí¨ –í–æ–π—Ç–∏ –≤ —á–∞—Ç –≥—Ä—É–ø–ø—ã
                    </button>
                </div>
            `).join('');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–æ–ª–æ–Ω—Ç—ë—Ä–æ–≤
        function updateVolunteerStats() {
            const pending = requests.filter(r => r.status === 'pending').length;
            const inProgress = requests.filter(r => r.status === 'in-progress').length;
            const completed = requests.filter(r => r.status === 'completed').length;

            document.getElementById('vol-pending-requests').textContent = pending;
            document.getElementById('vol-in-progress').textContent = inProgress;
            document.getElementById('vol-completed').textContent = completed;
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ —á–∞—Ç–∞ –≥—Ä—É–ø–ø—ã
        function openGroupChat(groupId) {
            const group = volunteerGroups.find(g => g.id === groupId);
            if (!group) return;

            const modal = document.createElement('div');
            modal.className = 'chat-modal active';
            modal.innerHTML = `
                <div class="chat-modal-content">
                    <div class="chat-modal-header">
                        <h3>üí¨ ${group.name}</h3>
                        <button class="close-btn" onclick="this.closest('.chat-modal').remove()">&times;</button>
                    </div>
                    <div class="chat-modal-body">
                        <div class="chat-sidebar">
                            <h4 style="margin: 0 0 1rem 0;">–£—á–∞—Å—Ç–Ω–∏–∫–∏ (${group.members})</h4>
                            <div class="volunteer-member">
                                <strong><span class="online-badge"></span>${group.leader}</strong>
                                <small>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä</small>
                            </div>
                            <div class="volunteer-member">
                                <strong><span class="online-badge"></span>–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞</strong>
                                <small>–ú–µ–¥–∏–∫</small>
                            </div>
                            <div class="volunteer-member">
                                <strong><span class="online-badge"></span>–î–º–∏—Ç—Ä–∏–π –ö–æ–≤–∞–ª–µ–≤</strong>
                                <small>–í–æ–¥–∏—Ç–µ–ª—å</small>
                            </div>
                            <div class="volunteer-member">
                                <strong><span class="online-badge"></span>–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞</strong>
                                <small>–í–æ–ª–æ–Ω—Ç—ë—Ä</small>
                            </div>
                        </div>
                        <div class="chat-main">
                            <div class="chat-messages" style="flex: 1; overflow-y: auto; padding: 1rem; background: #f9f9f9;">
                                <div class="chat-message ai">
                                    <div class="chat-avatar">üë§</div>
                                    <div class="chat-bubble" style="background: white;">
                                        <strong>${group.leader}</strong><br>
                                        –í—Å–µ–º –ø—Ä–∏–≤–µ—Ç! –°–µ–≥–æ–¥–Ω—è —É –Ω–∞—Å 3 –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–º–æ—â—å –≤ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —Ä–∞–π–æ–Ω–µ. –ö—Ç–æ –º–æ–∂–µ—Ç –≤–∑—è—Ç—å—Å—è?
                                    </div>
                                </div>
                                <div class="chat-message ai">
                                    <div class="chat-avatar">üë§</div>
                                    <div class="chat-bubble" style="background: white;">
                                        <strong>–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞</strong><br>
                                        –Ø –≥–æ—Ç–æ–≤–∞ –ø–æ–º–æ—á—å —Å –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∞–º–∏! –ì–¥–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å?
                                    </div>
                                </div>
                                <div class="chat-message ai">
                                    <div class="chat-avatar">üë§</div>
                                    <div class="chat-bubble" style="background: white;">
                                        <strong>–î–º–∏—Ç—Ä–∏–π –ö–æ–≤–∞–ª–µ–≤</strong><br>
                                        –£ –º–µ–Ω—è —Å–≤–æ–±–æ–¥–Ω–∞ –º–∞—à–∏–Ω–∞. –ú–æ–≥—É –¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –∏–ª–∏ –≤–æ–¥—É.
                                    </div>
                                </div>
                                <div class="chat-message ai">
                                    <div class="chat-avatar">üë§</div>
                                    <div class="chat-bubble" style="background: white;">
                                        <strong>${group.leader}</strong><br>
                                        –û—Ç–ª–∏—á–Ω–æ! –ê–Ω–Ω–∞, –ø–æ—Å–º–æ—Ç—Ä–∏ –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä. –ê–±–∞—è, 78 - –Ω—É–∂–Ω—ã –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ –¥–ª—è –ø–æ–∂–∏–ª–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞. –î–º–∏—Ç—Ä–∏–π, –Ω–∞ —É–ª. –ú–∏—Ä–∞, 12 —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ.
                                    </div>
                                </div>
                                <div class="chat-message ai">
                                    <div class="chat-avatar">üë§</div>
                                    <div class="chat-bubble" style="background: white;">
                                        <strong>–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞</strong><br>
                                        –Ø —Ç–æ–∂–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—é—Å—å! –ì–¥–µ –µ—â—ë –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å?
                                    </div>
                                </div>
                            </div>
                            <div class="chat-input-container">
                                <input type="text" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." />
                                <button onclick="alert('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!')">üì§</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–ø—Ä–æ—Å–µ
        function openRequestDetail(requestId) {
            const request = requests.find(r => r.id === requestId);
            if (!request) return;

            const typeIcons = {
                water: 'üíß',
                food: 'üçû',
                medical: 'üíä',
                evacuation: 'üö®',
                shelter: 'üè†'
            };

            const statusText = {
                pending: '–û–∂–∏–¥–∞–µ—Ç –ø–æ–º–æ—â–∏',
                'in-progress': '–í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è',
                completed: '–í—ã–ø–æ–ª–Ω–µ–Ω–æ'
            };

            const statusColors = {
                pending: '#FF9800',
                'in-progress': '#2196F3',
                completed: '#4CAF50'
            };

            const modal = document.createElement('div');
            modal.className = 'request-detail-modal active';
            modal.innerHTML = `
                <div class="request-detail-content">
                    <div class="detail-header">
                        <h3>${typeIcons[request.type]} ${getTypeName(request.type)}</h3>
                        <button class="close-btn" onclick="this.closest('.request-detail-modal').remove()">&times;</button>
                    </div>

                    <div class="detail-section">
                        <div style="padding: 1rem; background: ${statusColors[request.status]}20; border-left: 4px solid ${statusColors[request.status]}; border-radius: 8px; margin-bottom: 1.5rem;">
                            <strong style="color: ${statusColors[request.status]};">–°—Ç–∞—Ç—É—Å:</strong> ${statusText[request.status]}
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞—è–≤–∏—Ç–µ–ª–µ</h4>
                        <div class="detail-info">
                            <div class="detail-row">
                                <span class="detail-label">–ò–º—è:</span>
                                <span class="detail-value">${request.name}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                                <span class="detail-value"><a href="tel:${request.phone}" style="color: var(--color-primary);">${request.phone}</a></span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">–ê–¥—Ä–µ—Å:</span>
                                <span class="detail-value">${request.address}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">–õ—é–¥–µ–π:</span>
                                <span class="detail-value">${request.people} —á–µ–ª–æ–≤–µ–∫</span>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>üìã –î–µ—Ç–∞–ª–∏ –∑–∞–ø—Ä–æ—Å–∞</h4>
                        <div style="padding: 1rem; background: #f9f9f9; border-radius: 8px;">
                            ${request.details}
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>üïí –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è</h4>
                        <div class="detail-row">
                            <span class="detail-value">${request.timestamp.toLocaleString('ru-RU')}</span>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4>üîí –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è</h4>
                        ${request.verified ? `
                            <div style="padding: 1rem; background: #E8F5E9; border-left: 4px solid #4CAF50; border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <span style="font-size: 1.5rem;">‚úì</span>
                                    <strong style="color: #2E7D32;">–ó–∞–ø—Ä–æ—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω</strong>
                                </div>
                                <p style="margin: 0; color: #2E7D32;">–ó–∞—è–≤–∏—Ç–µ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª —Ñ–æ—Ç–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ —Å–∏—Ç—É–∞—Ü–∏–∏: <strong>${request.photoProof}</strong></p>
                                <small style="color: #2E7D32; opacity: 0.8;">–≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞</small>
                            </div>
                        ` : `
                            <div style="padding: 1rem; background: #FFF3E0; border-left: 4px solid #FF9800; border-radius: 8px;">
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <span style="font-size: 1.5rem;">‚ö†Ô∏è</span>
                                    <strong style="color: #E65100;">–ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω</strong>
                                </div>
                                <p style="margin: 0; color: #E65100;">–ó–∞—è–≤–∏—Ç–µ–ª—å –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª —Ñ–æ—Ç–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∫–æ–Ω—Ç–∞–∫—Ç–µ.</p>
                                <small style="color: #E65100; opacity: 0.8;">–ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –∏ —É—Ç–æ—á–Ω–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É</small>
                            </div>
                        `}
                    </div>

                    ${request.status === 'pending' ? `
                        <div class="action-buttons">
                            <button class="btn btn-success" onclick="takeRequest(${request.id}); this.closest('.request-detail-modal').remove();">
                                ‚úì –í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É
                            </button>
                            <button class="btn btn-primary" onclick="window.location.href='tel:${request.phone}'">
                                üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å
                            </button>
                        </div>
                    ` : request.status === 'in-progress' ? `
                        <div class="action-buttons">
                            <button class="btn btn-success" onclick="completeRequest(${request.id}); this.closest('.request-detail-modal').remove();">
                                ‚úì –û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º
                            </button>
                            <button class="btn btn-primary" onclick="window.location.href='tel:${request.phone}'">
                                üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å
                            </button>
                        </div>
                    ` : `
                        <div class="alert alert-success">
                            ‚úì –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω
                        </div>
                    `}
                </div>
            `;
            document.body.appendChild(modal);
        }

        // –í–∑—è—Ç—å –∑–∞–ø—Ä–æ—Å –≤ —Ä–∞–±–æ—Ç—É
        function takeRequest(requestId) {
            const request = requests.find(r => r.id === requestId);
            if (request && request.status === 'pending') {
                request.status = 'in-progress';
                alert(`‚úì –ó–∞–ø—Ä–æ—Å –≤–∑—è—Ç –≤ —Ä–∞–±–æ—Ç—É! –°–≤—è–∂–∏—Ç–µ—Å—å —Å ${request.name} –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É ${request.phone}`);
                updateRequestList();
                updateMap();
                updateVolunteerMap();
                updateVolunteerStats();
            }
        }

        // –û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º
        function completeRequest(requestId) {
            const request = requests.find(r => r.id === requestId);
            if (request && request.status === 'in-progress') {
                request.status = 'completed';
                alert('‚úì –û—Ç–ª–∏—á–Ω–æ! –ó–∞–ø—Ä–æ—Å –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π. –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–º–æ—â—å!');
                updateRequestList();
                updateMap();
                updateVolunteerMap();
                updateVolunteerStats();
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–æ–π –≥—Ä—É–ø–ø—ã
        document.addEventListener('DOMContentLoaded', function() {
            const createGroupForm = document.getElementById('create-group-form');
            if (createGroupForm) {
                createGroupForm.addEventListener('submit', function(e) {
                    e.preventDefault();

                    const areaNames = {
                        'central': '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω',
                        'east': '–í–æ—Å—Ç–æ—á–Ω—ã–π —Ä–∞–π–æ–Ω',
                        'west': '–ó–∞–ø–∞–¥–Ω—ã–π —Ä–∞–π–æ–Ω',
                        'south': '–Æ–∂–Ω—ã–π —Ä–∞–π–æ–Ω',
                        'all': '–í—Å–µ —Ä–∞–π–æ–Ω—ã'
                    };

                    const newGroup = {
                        id: volunteerGroups.length + 1,
                        name: document.getElementById('group-name').value,
                        leader: document.getElementById('group-leader').value,
                        phone: document.getElementById('group-phone').value,
                        area: areaNames[document.getElementById('group-area').value],
                        members: 1,
                        resources: document.getElementById('group-resources').value,
                        active: true
                    };

                    volunteerGroups.push(newGroup);
                    updateVolunteerGroups();
                    this.reset();
                    alert('‚úì –ì—Ä—É–ø–ø–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞! –î—Ä—É–≥–∏–µ –≤–æ–ª–æ–Ω—Ç—ë—Ä—ã —Å–º–æ–≥—É—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –≤–∞–º.');
                });
            }
        });

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–ª–∏–∂–∞–π—à–∏—Ö –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞—Ö
        function updateNearbyDisasters() {
            const disastersContainer = document.getElementById('nearby-disasters');
            
            // –î–∞–Ω–Ω—ã–µ –æ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞—Ö (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –±—É–¥–µ—Ç API)
            const disasters = [
                {
                    location: '–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫, –°–ö–û',
                    type: '–ù–∞–≤–æ–¥–Ω–µ–Ω–∏–µ',
                    severity: 'high',
                    distance: 0,
                    status: 'active',
                    affected: 15000,
                    description: '–†–µ–∫–∞ –ò—à–∏–º –≤—ã—à–ª–∞ –∏–∑ –±–µ—Ä–µ–≥–æ–≤. –ó–∞—Ç–æ–ø–ª–µ–Ω—ã –Ω–∏–∑–∏–Ω–Ω—ã–µ —Ä–∞–π–æ–Ω—ã –≥–æ—Ä–æ–¥–∞.',
                    lastUpdate: '2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥'
                },
                {
                    location: '–ê—Ç–±–∞—Å–∞—Ä, –ê–∫–º–æ–ª–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
                    type: '–ù–∞–≤–æ–¥–Ω–µ–Ω–∏–µ',
                    severity: 'medium',
                    distance: 180,
                    status: 'monitoring',
                    affected: 3500,
                    description: '–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã –≤ —Ä–µ–∫–µ –ñ–∞–±–∞–π. –≠–≤–∞–∫—É–∏—Ä–æ–≤–∞–Ω–æ 200 —á–µ–ª–æ–≤–µ–∫.',
                    lastUpdate: '5 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥'
                },
                {
                    location: '–ö—É—Ä–≥–∞–Ω, –†–æ—Å—Å–∏—è',
                    type: '–ù–∞–≤–æ–¥–Ω–µ–Ω–∏–µ',
                    severity: 'high',
                    distance: 250,
                    status: 'active',
                    affected: 8000,
                    description: '–ü–∞–≤–æ–¥–æ–∫ –Ω–∞ —Ä–µ–∫–µ –¢–æ–±–æ–ª. –û–±—ä—è–≤–ª–µ–Ω —Ä–µ–∂–∏–º –ß–°.',
                    lastUpdate: '1 —á–∞—Å –Ω–∞–∑–∞–¥'
                },
                {
                    location: '–ö–æ–∫—à–µ—Ç–∞—É, –ê–∫–º–æ–ª–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
                    type: '–†–∏—Å–∫ –ø–∞–≤–æ–¥–∫–∞',
                    severity: 'low',
                    distance: 320,
                    status: 'monitoring',
                    affected: 0,
                    description: '–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Ä–æ–≤–Ω—è –æ–∑–µ—Ä–∞ –ö–æ–ø–∞. –°–∏—Ç—É–∞—Ü–∏—è –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.',
                    lastUpdate: '3 —á–∞—Å–∞ –Ω–∞–∑–∞–¥'
                },
                {
                    location: '–ö–æ—Å—Ç–∞–Ω–∞–π, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω',
                    type: '–ù–∞–≤–æ–¥–Ω–µ–Ω–∏–µ',
                    severity: 'medium',
                    distance: 420,
                    status: 'recovering',
                    affected: 5200,
                    description: '–ü–∞–≤–æ–¥–æ–∫ –Ω–∞ —Ä–µ–∫–µ –¢–æ–±–æ–ª –æ—Ç—Å—Ç—É–ø–∞–µ—Ç. –ò–¥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã.',
                    lastUpdate: '6 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥'
                }
            ];

            const severityColors = {
                high: '#F44336',
                medium: '#FF9800',
                low: '#2196F3'
            };

            const severityLabels = {
                high: '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π',
                medium: '–°—Ä–µ–¥–Ω–∏–π',
                low: '–ù–∏–∑–∫–∏–π'
            };

            const statusLabels = {
                active: '–ê–∫—Ç–∏–≤–Ω–∞—è',
                monitoring: '–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥',
                recovering: '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ'
            };

            const statusColors = {
                active: '#F44336',
                monitoring: '#FF9800',
                recovering: '#4CAF50'
            };

            disastersContainer.innerHTML = disasters.filter(disaster => disaster.distance <= 300).map(disaster => `
                <div style="background: white; border: 2px solid ${severityColors[disaster.severity]}; border-radius: 10px; padding: 1.25rem; margin-bottom: 1rem; transition: all 0.3s;">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                        <div>
                            <h3 style="margin: 0 0 0.5rem 0; color: ${severityColors[disaster.severity]};">
                                ${disaster.location}
                            </h3>
                            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                <span style="background: ${severityColors[disaster.severity]}; color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.875rem; font-weight: 600;">
                                    ${severityLabels[disaster.severity]} —É—Ä–æ–≤–µ–Ω—å
                                </span>
                                <span style="background: ${statusColors[disaster.status]}20; color: ${statusColors[disaster.status]}; border: 1px solid ${statusColors[disaster.status]}; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.875rem; font-weight: 600;">
                                    ${statusLabels[disaster.status]}
                                </span>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: ${severityColors[disaster.severity]};">
                                ${disaster.distance === 0 ? '–ó–¥–µ—Å—å' : disaster.distance + ' –∫–º'}
                            </div>
                            <div style="font-size: 0.85rem; color: var(--color-text-light);">
                                —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; gap: 0.75rem; margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 1.25rem;">üåä</span>
                            <strong>–¢–∏–ø:</strong> ${disaster.type}
                        </div>
                        ${disaster.affected > 0 ? `
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.25rem;">üë•</span>
                                <strong>–ü–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏—Ö:</strong> ${disaster.affected.toLocaleString('ru-RU')} —á–µ–ª–æ–≤–µ–∫
                            </div>
                        ` : ''}
                        <div style="display: flex; align-items: start; gap: 0.5rem;">
                            <span style="font-size: 1.25rem;">üìã</span>
                            <div>
                                <strong>–°–∏—Ç—É–∞—Ü–∏—è:</strong><br>
                                <span style="color: var(--color-text-light);">${disaster.description}</span>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 1.25rem;">üïí</span>
                            <span style="color: var(--color-text-light); font-size: 0.9rem;">–û–±–Ω–æ–≤–ª–µ–Ω–æ: ${disaster.lastUpdate}</span>
                        </div>
                    </div>
                    
                    ${disaster.distance === 0 ? `
                        <div style="background: #FFF3E0; border-left: 4px solid #FF9800; padding: 0.75rem; border-radius: 6px; margin-top: 1rem;">
                            <strong style="color: #E65100;">‚ö†Ô∏è –í–∞—à —Ä–µ–≥–∏–æ–Ω:</strong> 
                            <span style="color: #E65100;">–°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –∏ –±—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ã –∫ —ç–≤–∞–∫—É–∞—Ü–∏–∏!</span>
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', function() {
            updateMap();
            updateStats();
            updateFloodSimulation(30); // –ù–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
        });
    </script>
</body>
</html>
